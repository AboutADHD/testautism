<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Test Autism AdulÈ›i Online | Scalele RAADS-R È™i CAT-Q (Autoevaluare Autism)</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- FontAwesome CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<!-- HTML2PDF (for PDF export) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>

<!-- HTML2CANVAS (for Facebook sharing) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<meta name="description" content="Test de autoevaluare GRATUIT È™i ANONIM a autismului la adulÈ›i (TSA). Cu scalele RAADS-R È™i CAT-Q poÈ›i afla INSTANT dacÄƒ scorul tÄƒu indicÄƒ necesitatea unei evaluÄƒri clinice profesionale!" />
<link rel="icon" href="https://www.suntautist.ro/content/images/size/w256h256/2022/01/suntautist-logo-mini.png" type="image/png">

<link rel="canonical" href="https://www.testautism.ro">
<meta name="referrer" content="no-referrer-when-downgrade" />

<!-- Facebook OpenGraph tags -->
<meta property="og:site_name" content="Test Autism AdulÈ›i: Ritvo Autism Asperger Diagnostic Scale - Revised (RAADS-R)" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Test Autism AdulÈ›i: Ritvo Autism Asperger Diagnostic Scale - Revised (RAADS-R)" />
<meta property="og:description" content="Test autoevaluare È™i autodiagnosticare autism (Tulburare de Spectru Autist - TSA) adulÈ›i. RAADS-R oferÄƒ evaluare precisÄƒ a trÄƒsÄƒturilor autiste" />
<meta property="og:url" content="https://www.testautism.ro" />
<meta property="og:image" content="https://www.suntautist.ro/content/images/2024/11/raads-r-tris.jpg" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="675" />

<!-- Article metadata -->
<meta property="article:published_time" content="2024-11-04T00:00:00.000Z" />
<meta property="article:modified_time" content="2024-11-04T00:00:00.000Z" />
<meta property="article:publisher" content="https://www.facebook.com/suntautist/" />

<!-- Twitter cards metadata -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Test Autism AdulÈ›i: Ritvo Autism Asperger Diagnostic Scale - Revised (RAADS-R)" />
<meta name="twitter:description" content="Test autoevaluare È™i autodiagnosticare autism (Tulburare de Spectru Autist - TSA) adulÈ›i. RAADS-R oferÄƒ evaluare precisÄƒ a trÄƒsÄƒturilor autiste" />
<meta name="twitter:url" content="https://www.testautism.ro" />
<meta name="twitter:image" content="https://www.suntautist.ro/content/images/2024/11/raads-r-tris.jpg" />

<!-- LD JSON Schema -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Test Autism AdulÈ›i: Ritvo Autism Asperger Diagnostic Scale - Revised (RAADS-R)",
        "url": "https://www.testautism.ro/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://www.suntautist.ro/content/images/size/w256h256/2022/01/suntautist-logo-mini.png"
        }
    },
    "headline": "Test Autism AdulÈ›i: Ritvo Autism Asperger Diagnostic Scale - Revised (RAADS-R)",
    "url": "https://www.testautism.ro/",
    "datePublished": "2024-10-06T14:37:01.000Z",
    "dateModified": "2024-10-06T15:12:44.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://www.suntautist.ro/content/images/2024/11/raads-r-tris.jpg",
        "width": 1200,
        "height": 675
    },
    "description": "Testul RAADS-R (Ritvo Autism Asperger Diagnostic Scale - Revised) constÄƒ Ã®n 80 de afirmaÈ›ii pentru screeningul autismului la adulÈ›i, destinatÄƒ exclusiv Ã®n scop informativ. Testul NU trebuie utilizat ca un instrument de diagnostic.",
    "mainEntityOfPage": "https://www.testautism.ro/"
}
</script>
<script>
(function(d){
  var s = d.createElement("script");
  /* uncomment the following line to override default position*/
  /* s.setAttribute("data-position", 3);*/
  /* uncomment the following line to override default size (values: small, large)*/
  /* s.setAttribute("data-size", "small");*/
  /* uncomment the following line to override default language (e.g., fr, de, es, he, nl, etc.)*/
  /* s.setAttribute("data-language", "language");*/
  /* uncomment the following line to override color set via widget (e.g., #053f67)*/
  /* s.setAttribute("data-color", "#053e67");*/
  /* uncomment the following line to override type set via widget (1=person, 2=chair, 3=eye, 4=text)*/
  /* s.setAttribute("data-type", "1");*/
  /* s.setAttribute("data-statement_text:", "Our Accessibility Statement");*/
  /* s.setAttribute("data-statement_url", "http://www.example.com/accessibility")";*/
  /* uncomment the following line to override support on mobile devices*/
  /* s.setAttribute("data-mobile", true);*/
  /* uncomment the following line to set custom trigger action for accessibility menu*/
  /* s.setAttribute("data-trigger", "triggerId")*/
  s.setAttribute("data-account", "vyCmg2Axix");
  s.setAttribute("src", "https://cdn.userway.org/widget.js");
  (d.body || d.head).appendChild(s);
})(document)
</script>
<noscript>VÄƒ rugÄƒm sÄƒ vÄƒ asiguraÈ›i cÄƒ Javascript este activat pentru scopuri de <a href="https://userway.org">accesibilitate a site-ului web.</a></noscript>

<link rel="stylesheet" type="text/css" href="custom-style.css">

</head>
<body>
<div class="container">
    <div id="quick-nav" class="quick-nav-container">
        <ul class="quick-nav">
            <li>
                <a href="#section-faq" class="quick-nav-item">
                    <i class="fas fa-info-circle"></i>
                    <span>Despre test</span>
                </a>
            </li>
            <li>
                <a href="#section-instructions" class="quick-nav-item">
                    <i class="fas fa-clipboard-list"></i>
                    <span>ComponenÈ›a testului</span>
                </a>
            </li>
            <li>
                <a href="#section-quiz" class="quick-nav-item">
                    <i class="fa-solid fa-circle-play"></i>
                    <span>Testul RAADS-R - ÃNCEPE AICI!</span>
                </a>
            </li>
            <li>
                <a href="#section-results" class="quick-nav-item">
                    <i class="fas fa-chart-line"></i>
                    <span>Rezultate</span>
                </a>
            </li>
            <li>
                <a href="#section-support" class="quick-nav-item">
                    <i class="fas fa-headset"></i>
                    <span>Suport</span>
                </a>
            </li>
        </ul>
    </div>
    <div class="section-divider d-md-none"></div>
    <div class="initial-section justify-content-center">
        <h1 class="text-center mt-4 mb-3" style="font-size: 1.5rem; font-weight: bold;">Test Autism AdulÈ›i Online cu Scalele RAADS-R (Ritvo Autism Asperger Diagnostic Scale - Revised) È™i CAT-Q (Camouflaging Autistic Traits Questionnaire) - PlatformÄƒ pentru Autoevaluare Autism online!</h1>
        <h2 class="text-center mb-3" style="font-size: 1.3rem; color: #1976D2;">Autismul la adulÈ›i â€“ simptome, diagnostic È™i autoevaluare</h2>
        <p>
            Acest <strong>test de autism pentru adulÈ›i</strong> (disponibil online, Ã®n limba romÃ¢nÄƒ) te ajutÄƒ sÄƒ identifici <strong>simptomele autismului la adulÈ›i</strong> È™i oferÄƒ un prim pas spre <strong>diagnosticul TSA</strong>.
        </p>
        <p>
            Versiunea revizuitÄƒ (RAADS-R) a <strong>Scalei Ritvo Autism Asperger Diagnostic Scale (RAADS)</strong> este un <strong>instrument orientativ, dar extrem de precis</strong> pentru screening-ul <strong>trÄƒsÄƒturilor autiste la adulÈ›i</strong>. ÃntrebÄƒrile au fost restructurate pe baza feedback-ului <b>comunitÄƒÈ›ii autiste</b> È™i al unor profesioniÈ™ti precum <strong>Dr. Natalie Engelbrecht</strong>.
        </p>
        <p>Testul constÄƒ Ã®n <strong>80 de afirmaÈ›ii</strong> pentru screening-ul autismului la adulÈ›ii care pot <b>â€scÄƒpa de sub radarul diagnosticâ€</b>, din cauza unei prezentÄƒri <strong>aparent subclinice.</strong></p>
        <div class="cta-button-wrapper">
            <div class="cta-emphasis">
                <a id="start-test" href="#first-disclaimer" class="cta-button pulse">
                    <i class="fas fa-clipboard-list"></i>
                    Mergi direct la Testul RAADS-R
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
        Website realizat cu ğŸ’– de cÄƒtre <b>Andrei Hodorog</b> È™i <b>Ovidiu Platon</b>. Parteneri:
        <div class="partner-logos">
            <div class="container">
                <div class="row justify-content-center align-items-center g-4">
                    <div class="col-12 col-md-4">
                        <a href="https://www.ovidiuplaton.com" target="_blank" class="d-block text-center">
                            <img src="https://www.ovidiuplaton.com/content/images/2024/07/ovidiu-platon---consilier-autism-adhd--audhd.png"
                                 class="img-fluid"
                                 style="max-width: 300px; max-height: 100px;"
                                 alt="Ovidiu Platon - Consilier Parental si de Dezvoltare Personala - autism ADHD"/>
                        </a>
                    </div>
                    <div class="col-12 col-md-4">
                        <a href="https://www.suntautist.ro" target="_blank" class="d-block text-center">
                            <img src="https://www.doctoradhd.com/wp-content/uploads/2023/08/suntautist-logo-1024x385.png"
                                 class="img-fluid"
                                 style="max-width: 300px; max-height: 100px;"
                                 alt="Asociatia Sunt Autist - Autismul explicat de autisti"/>
                        </a>
                    </div>
                    <div class="col-12 col-md-4">
                        <a href="https://www.despreadhd.ro" target="_blank" class="d-block text-center">
                            <img src="https://www.despreadhd.ro/content/images/2024/10/despreadhd-ro.jpg"
                                 class="img-fluid"
                                 style="max-width: 300px; max-height: 100px;"
                                 alt="About ADHD RomÃ¢nia - È˜tiinÈ›Äƒ, diagnostic, tratament, suport"/>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-2">
            <b>Grupuri de suport:</b>
            <i class="fa-brands fa-facebook"></i> <a href="https://fb.com/groups/suntautist" target="_blank" rel="nofollow">
                Autismul explicat de autiÈ™ti
            </a>
            &nbsp;|&nbsp;
            <i class="fa-brands fa-facebook"></i> <a href="https://fb.com/groups/aboutadhd" target="_blank" rel="nofollow">
                About ADHD RomÃ¢nia - InformaÈ›ii È™tiinÈ›ifice, diagnostic, tratament
            </a>
        </div>
        <hr>
    </div>
    <div class="section-divider d-md-none"></div>
    <!-- FAQ Section with Stylish SEO-Friendly Accordions -->
    <div class="faq-section container my-5" id="section-faq">
        <h2 class="text-center mb-4">ÃntrebÄƒri frecvente despre testul pentru autism la adulÈ›i RAADS-R</h2>

        <div class="row justify-content-center">
            <div class="col-lg-10">
                <!-- Stylish Accordion Container -->
                <div class="accordion accordion-faq" id="faqAccordion">

                    <!-- FAQ Item 1 -->
                    <div class="accordion-item faq-item mb-3 border-0 shadow-sm rounded-3 overflow-hidden">
                        <h3 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                <i class="fas fa-question-circle text-primary me-2"></i>
                                <span class="fw-semibold">Este testul RAADS-R un diagnostic medical definitiv?</span>
                            </button>
                        </h3>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p><span style="color: red;">NU.</span> Testul RAADS-R este <strong>exclusiv un instrument de screening orientativ</strong> È™i <span style="color: red;">NU constituie un diagnostic medical oficial</span>. DeÈ™i are o sensibilitate de 97% È™i specificitate de 100% conform studiului original, singura modalitate de a afla sigur dacÄƒ aveÈ›i Tulburare de Spectru Autist (TSA) este sÄƒ obÈ›ineÈ›i un diagnostic de la un medic psihiatru sau psiholog clinician specializat Ã®n tulburÄƒri de neurodezvoltare.</p>
                                <p>Rezultatele testului pot fi un punct de plecare valoros pentru o discuÈ›ie cu un specialist, dar <span style="color: red;">NU Ã®nlocuiesc evaluarea clinicÄƒ profesionalÄƒ completÄƒ</span>, care include, printre altele, documentarea <strong>istoricului dezvoltÄƒrii</strong>, <strong>observaÈ›ia clinicÄƒ</strong> È™i <strong>instrumente suplimentare de evaluare standardizate</strong>.</p>
                            </div>
                        </div>
                    </div>

                    <!-- FAQ Item 2 -->
                    <div class="accordion-item faq-item mb-3 border-0 shadow-sm rounded-3 overflow-hidden">
                        <h3 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                <i class="fas fa-question-circle text-primary me-2"></i>
                                <span class="fw-semibold">Ce trebuie sÄƒ fac dacÄƒ scorul testului indicÄƒ autism?</span>
                            </button>
                        </h3>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p>DacÄƒ scorul tÄƒu depÄƒÈ™eÈ™te pragul de 65, indicÃ¢nd trÄƒsÄƒturi autiste semnificative, ar fi recomandat sÄƒ consulÈ›i un specialist pentru o evaluare clinicÄƒ detaliatÄƒ. PoÈ›i salva rezultatul Ã®n format PDF folosind opÈ›iunea "ExportÄƒ ca PDF" È™i sÄƒ-l prezinÈ›i unui psihiatru sau psiholog clinician specializat Ã®n tulburÄƒri de neurodezvoltare.</p>
                                <p>Un diagnostic formal poate oferi acces la servicii de suport, terapii specifice È™i poate ajuta la o mai bunÄƒ Ã®nÈ›elegere a propriilor experienÈ›e. Pentru evaluÄƒri profesionale, poÈ›i vizita <a href="https://www.doctoradhd.com/" target="_blank">doctoradhd.com</a> sau sÄƒ te adresezi grupurilor de suport menÈ›ionate pe site pentru recomandÄƒri de specialiÈ™ti.</p>
                            </div>
                        </div>
                    </div>

                    <!-- FAQ Item 3 -->
                    <div class="accordion-item faq-item mb-3 border-0 shadow-sm rounded-3 overflow-hidden">
                        <h3 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                <i class="fas fa-question-circle text-primary me-2"></i>
                                <span class="fw-semibold">CÃ¢t dureazÄƒ È™i cum se desfÄƒÈ™oarÄƒ testul pentru autism la adulÈ›i RAADS-R?</span>
                            </button>
                        </h3>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p>Testul RAADS-R constÄƒ Ã®n 80 de afirmaÈ›ii È™i dureazÄƒ Ã®n medie Ã®ntre 10 È™i 30 de minute pentru completare, Ã®n funcÈ›ie de viteza individualÄƒ de reflecÈ›ie. Este un instrument de <strong>auto-raportare</strong>, ceea ce Ã®nseamnÄƒ cÄƒ este completat de cÄƒtre tine, evaluÃ¢nd propria experienÈ›Äƒ.</p>
                                <p>Fiecare afirmaÈ›ie are patru opÈ›iuni de rÄƒspuns: (1) AdevÄƒrat acum È™i cÃ¢nd eram mic(Äƒ), (2) AdevÄƒrat doar acum, (3) AdevÄƒrat doar cÃ¢nd aveam sub 16 ani, sau (4) NiciodatÄƒ adevÄƒrat. Nu existÄƒ rÄƒspunsuri "corecte" sau "greÈ™ite" - scopul este sÄƒ reflecÈ›i cÃ¢t mai sincer asupra propriilor experienÈ›e de viaÈ›Äƒ.</p>
                            </div>
                        </div>
                    </div>

                    <!-- FAQ Item 4 -->
                    <div class="accordion-item faq-item mb-3 border-0 shadow-sm rounded-3 overflow-hidden">
                        <h3 class="accordion-header" id="headingFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                <i class="fas fa-question-circle text-primary me-2"></i>
                                <span class="fw-semibold">Care sunt simptomele tipice ale autismului la adulÈ›i?</span>
                            </button>
                        </h3>
                        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p>Autismul la adulÈ›i se poate manifesta diferit faÈ›Äƒ de prezentarea clasicÄƒ la copii È™i poate include: dificultÄƒÈ›i Ã®n interacÈ›iunile sociale È™i comunicare (Ã®nÈ›elegerea subtextului, a limbajului corporal, menÈ›inerea contactului vizual), interese focalizate È™i intense, nevoia de rutinÄƒ È™i predictibilitate, sensibilitÄƒÈ›i senzoriale (la sunete, lumini, texturi), È™i provocÄƒri Ã®n gestionarea schimbÄƒrilor neaÈ™teptate.</p>
                                <p>Multe persoane autiste dezvoltÄƒ strategii de mascare a trÄƒsÄƒturilor autiste (camuflaj), ceea ce poate face diagnosticul mai dificil la adulÈ›i. Testul RAADS-R a fost special conceput pentru a identifica trÄƒsÄƒturile autiste la adulÈ›i care pot "scÄƒpa de sub radarul diagnostic" din cauza acestor strategii de adaptare.</p>
                            </div>
                        </div>
                    </div>

                    <!-- FAQ Item 5 -->
                    <div class="accordion-item faq-item mb-3 border-0 shadow-sm rounded-3 overflow-hidden">
                        <h3 class="accordion-header" id="headingFive">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                <i class="fas fa-question-circle text-primary me-2"></i>
                                <span class="fw-semibold">CÃ¢t de fiabil este testul RAADS-R comparativ cu alte teste?</span>
                            </button>
                        </h3>
                        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                <p>RAADS-R este unul dintre cele mai fiabile instrumente de screening pentru autism la adulÈ›i, cu o sensibilitate de 97% (identificÄƒ corect 97% dintre persoanele autiste) È™i o specificitate de 100% (identificÄƒ corect toate persoanele non-autiste) conform studiului de validare original. Aceste valori indicÄƒ o precizie foarte ridicatÄƒ Ã®n comparaÈ›ie cu alte instrumente de screening disponibile.</p>
                                <p>Alte teste frecvent utilizate pentru screening-ul autismului la adulÈ›i includ AQ (Autism Quotient), cu o sensibilitate de aproximativ 80%, È™i RAADS-14, o versiune scurtÄƒ a acestui test cu 14 Ã®ntrebÄƒri. RAADS-R oferÄƒ Ã®nsÄƒ o evaluare mai comprehensivÄƒ, analizÃ¢nd patru domenii cheie: limbaj, relaÈ›ionare socialÄƒ, senzorial-motor È™i interese circumscrise.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--RAADS-R explanations-->
    <div class="section-divider d-md-none"></div>
    <div class="features-container">
        <h2 class="text-center mb-4"><i class="fas fa-question-circle text-primary me-2"></i>Ce oferÄƒ platforma <strong>TestAutism.ro</strong> pentru <strong>Testare Autism Online la AdulÈ›i</strong>?</h2>
        <div class="row g-4">
            <!-- Privacy Feature -->
            <div class="col-12 col-md-4">
                <div class="feature-card h-100">
                    <div class="feature-icon">
                        <i class="fas fa-user-secret text-primary fa-3x"></i>
                    </div>
                    <h3 class="feature-title">ConfidenÈ›ialitate</h3>
                    <p class="feature-text">
                        <div class="privacy-features">
                            <div class="privacy-item">
                                <i class="fas fa-check-circle text-success me-2"></i>
                                Test fÄƒrÄƒ Ã®nregistrare necesarÄƒ
                            </div>
                            <div class="privacy-item">
                                <i class="fas fa-lock text-warning me-2"></i>
                                Datele tale rÄƒmÃ¢n CONFIDENÈšIALE
                            </div>
                            <div class="privacy-item">
                                <i class="fas fa-store-slash text-danger me-2"></i>
                                NU stocÄƒm informaÈ›ii personale. NU utilizÄƒm cookies.
                            </div>
                            <div class="privacy-item">
                                <i class="fas fa-brands fa-github text-warning me-2"></i>
                                Cod sursÄƒ transparent È™i disponibil GRATUIT pe <a style="display: inline;" href="https://github.com/hodorogandrei/testautism" target="_blank">Github</a>
                            </div>
                        </div>
                    </p>
                </div>
            </div>

            <!-- Facebook Share Feature -->
            <div class="col-12 col-md-4">
                <div class="feature-card h-100">
                    <div class="feature-icon">
                        <i class="fab fa-facebook text-primary fa-3x"></i>
                    </div>
                    <h3 class="feature-title">Share pe Facebook</h3>
                    <p class="feature-text">
                        ÃmpÄƒrtÄƒÈ™eÈ™te cu mÃ¢ndrie descoperirile tale! DÄƒ share la scorul tÄƒu dacÄƒ ai aflat cÄƒ ai putea fi autist! ğŸŒŸ
                        <br><br>
                        <span class="feature-note">
                            <i class="fas fa-info-circle text-info me-1"></i>
                            OpÈ›iune disponibilÄƒ dupÄƒ finalizarea testului. Imaginile partajate sunt generate pe server È™i stocate doar <b>temporar</b> pentru a putea fi partajate cÄƒtre Facebook. Acestea NU sunt legate Ã®n vreun fel de identitatea ta personalÄƒ.
                        </span>
                    </p>
                </div>
            </div>

            <!-- PDF Export Feature -->
            <div class="col-12 col-md-4">
                <div class="feature-card h-100">
                    <div class="feature-icon">
                        <i class="fas fa-file-pdf text-danger fa-3x"></i>
                    </div>
                    <h3 class="feature-title">Export Ã®n PDF</h3>
                    <p class="feature-text">
                        DescarcÄƒ È™i pÄƒstreazÄƒ scorul total, subscorurile, È™i rÄƒspunsurile la Ã®ntrebÄƒri. PoÈ›i genera un PDF cu toate acestea, marcat cu data efectuÄƒrii testului, pentru a-l revizui ulterior sau discuta cu profesioniÈ™tii calificaÈ›i.
                        <br><br>
                        <span class="feature-note">
                            <i class="fas fa-info-circle text-info me-1"></i>
                            OpÈ›iune disponibilÄƒ dupÄƒ finalizarea testului.
                            <i class="fas fa-laptop text-success me-1"></i> PDF-urile sunt generate <b>local</b>, pe dispozitivul tÄƒu. <i class="fas fa-shield-alt text-warning me-1"></i>. <b>NU</b> stocÄƒm PDF-urile generate.
                        </span>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="section-divider d-md-none"></div>
    <div class="license-section">
        <h2 class="h3 mb-4"><strong>LicenÈ›Äƒ È™i drepturi de utilizare</strong> a testului pentru autism la adulÈ›i RAADS-R</h2>
        <p class="license-text">
            RAADS-R (Scala Ritvo Autism Asperger Diagnostic â€“ RevizuitÄƒ) este un instrument de screening pentru trÄƒsÄƒturile autiste la adulÈ›i, licenÈ›iat sub Creative Commons
            <strong>Attribution-NonCommercial</strong>. Acest test este oferit doar Ã®n scopuri necomerciale, iar pentru utilizarea sa sunt necesare urmÄƒtoarele:
        </p>
        <ul class="license-requirements">
            <li><strong>Atribuire autori originali:</strong> Riva Ariella Ritvo, Ph.D. and Edward Ritvo, M.D. et al.</li>
            <li><strong>Utilizare necomercialÄƒ:</strong> Testul este destinat exclusiv utilizÄƒrii necomerciale.</li>
            <li><strong>LicenÈ›iere:</strong> ConsultaÈ›i licenÈ›a completÄƒ la <a href="https://creativecommons.org/licenses/by-nc/3.0/" target="_blank">aici</a>.</li>
        </ul>
        <p class="license-disclaimer">
            Toate testele sunt confidenÈ›iale È™i acest site nu colecteazÄƒ informaÈ›ii personale.
        </p>
    </div>
    <div class="section-divider d-md-none"></div>
    <div class="test-details-container" id="section-intro">
        <!-- General Characteristics -->
        <div class="info-section">
            <div class="section-header">

                <h2 class="h3 mb-0"><i class="fas fa-question-circle text-primary me-2"></i> Care sunt caracteristicile generale ale testului pentru autism la adulÈ›i RAADS-R?</h2>
            </div>

            <div class="version-cards">
                <!-- RAADS-R Version -->
                <div class="version-card">
                    <div class="version-title">
                        <i class="fas fa-star text-warning me-2"></i>
                        Test autism RAADS-R (RAADS revizuit)
                    </div>
                    <ul class="feature-list">
                        <li>
                            <i class="fas fa-list text-primary"></i>
                            <span><strong>NumÄƒr de afirmaÈ›ii:</strong> 80</span>
                        </li>
                        <li>
                            <i class="fas fa-clock text-success"></i>
                            <span><strong>DuratÄƒ estimatÄƒ:</strong> 10 â€“ 30 de minute</span>
                        </li>
                        <li>
                            <i class="fas fa-tools text-info"></i>
                            <span><strong>Tip:</strong> Instrument de screening</span>
                        </li>
                        <li>
                            <i class="fas fa-users text-purple"></i>
                            <span><strong>Autori:</strong>Riva Ariella Ritvo, Ph.D. and Edward Ritvo, M.D. et al.</span>
                        </li>
                        <li>
                            <i class="fas fa-calendar-alt text-danger"></i>
                            <span><strong>Anul publicÄƒrii:</strong> 2011</span>
                        </li>
                    </ul>
                    <div class="citation-box">
                        <i class="fas fa-book text-muted me-2"></i>
                        <strong>Lucrare seminalÄƒ:</strong> <em>Ritvo, R. A., et al. (2011). The Ritvo Autism Asperger Diagnostic Scale - Revised (RAADS-R): a scale to assist the diagnosis of autism spectrum disorder in adults: an international validation study.</em>
                        <a href="https://doi.org/10.1007/s10803-010-1133-5" target="_blank" class="doi-link">
                            <i class="fas fa-external-link-alt"></i> Link DOI cÄƒtre studiul original
                        </a>
                    </div>
                </div>

                <!-- Original RAADS -->
                <div class="version-card">
                    <div class="version-title">
                        <i class="fas fa-history text-info me-2"></i>
                        Test autism RAADS Original
                    </div>
                    <ul class="feature-list">
                        <li>
                            <i class="fas fa-list text-primary"></i>
                            <span><strong>NumÄƒr de afirmaÈ›ii:</strong> 78</span>
                        </li>
                        <li>
                            <i class="fas fa-clock text-success"></i>
                            <span><strong>DuratÄƒ estimatÄƒ:</strong> 10 â€“ 30 de minute</span>
                        </li>
                        <li>
                            <i class="fas fa-tools text-info"></i>
                            <span><strong>Tip:</strong> Instrument de screening</span>
                        </li>
                        <li>
                            <i class="fas fa-users text-purple"></i>
                            <span><strong>Autori:</strong>Riva Ariella Ritvo, Ph.D. and Edward Ritvo, M.D. et al.</span>
                        </li>
                        <li>
                            <i class="fas fa-calendar-alt text-danger"></i>
                            <span><strong>Anul publicÄƒrii:</strong> 2008</span>
                        </li>
                    </ul>
                    <div class="citation-box">
                        <i class="fas fa-book text-muted me-2"></i>
                        <strong>Lucrare seminalÄƒ:</strong> <em>Ritvo, R. A., et al. (2008). A scale to assist the diagnosis of autism and Asperger's disorder in adults (RAADS): A pilot study.</em>
                        <a href="https://doi.org/10.1007/s10803-007-0380-6" target="_blank" class="doi-link">
                            <i class="fas fa-external-link-alt"></i> Link DOI cÄƒtre studiul original
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Target Audience -->
        <div class="info-card">
            <div class="card-header">
                <i class="fas fa-users text-success me-2"></i>
                <h2 class="h3 mb-0">Cui Ã®i este destinat testul pentru autism la adulÈ›i RAADS-R?</h2>
            </div>
            <ul class="target-list">
                <li>
                    <i class="fas fa-user-check"></i>
                    <span><strong>AdulÈ›i (vÃ¢rsta 16+)</strong> cu <strong>ASD nivel 1</strong> sau <strong>autism subclinic</strong></span>
                </li>
                <li>
                    <i class="fas fa-brain"></i>
                    <span><strong>AdulÈ›i</strong> cu <strong>IQ Ã®n intervalul de referinÈ›Äƒ</strong> (IQ >=80)</span>
                </li>
            </ul>
        </div>

        <!-- Availability -->
        <div class="info-card">
            <div class="card-header">
                <i class="fas fa-globe text-info me-2"></i>
                <h2 class="h3 mb-0">Ce istoric de versiuni È™i traduceri are testul RAADS-R pentru autism la adulÈ›i?</h2>
            </div>
            <div class="availability-content">
                <p>RAADS-R a fost tradus Ã®n limba suedezÄƒ È™i Ã®n majoritatea limbilor prin intermediul translatorilor. TotuÈ™i, testele RAADS-R online <b><i>NU</i></b> par sÄƒ abunde.</p>
                <p class="highlight-text">Ãn prezent, suntem (probabil) singurii care gÄƒzduiesc RAADS-R online Ã®n ğŸ‡·ğŸ‡´ limba romÃ¢nÄƒ.</p>
            </div>
        </div>

        <!-- Test Process -->
        <div class="info-card">
            <div class="card-header">
                <i class="fas fa-tasks text-warning me-2"></i>
                <h2 class="h3 mb-0">Cum se desfÄƒÈ™oarÄƒ testul pentru autism la adulÈ›i RAADS-R?</h2>
            </div>
            <div class="process-content">
                <p>RAADS-R este un instrument de <strong>auto-raportare</strong>, conceput pentru a fi completat de cÄƒtre dumneavoastrÄƒ. Un <strong>profesionist medical / clinician calificat</strong> poate oferi asistenÈ›Äƒ Ã®n interpretarea itemilor dacÄƒ aveÈ›i dificultÄƒÈ›i.</p>

                <div class="answer-options">
                    <h3><i class="fas fa-check-circle text-success me-2"></i>OpÈ›iuni de rÄƒspuns:</h3>
                    <ol>
                        <li>AdevÄƒrat acum È™i cÃ¢nd eram mic(Äƒ)</li>
                        <li>AdevÄƒrat doar acum</li>
                        <li>AdevÄƒrat doar cÃ¢nd aveam sub 16 ani</li>
                        <li>NiciodatÄƒ adevÄƒrat</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Test Validity -->
        <div class="validity-card">
            <div class="card">
                <div class="card-header bg-white">
                    <h2 class="h3 mb-0"><i class="fas fa-check-circle text-success me-2"></i>Care este sensibilitatea È™i specificitatea testului RAADS-R pentru autism la adulÈ›i?</h2>
                </div>
                <div class="card-body">
                    <p class="lead">RAADS-R este un instrument fiabil pentru a ajuta la diagnosticarea adulÈ›ilor autiÈ™ti *.</p>

                    <div class="key-findings">
                        <ul class="list-group">
                            <li class="list-group-item">
                                <i class="fas fa-check text-success me-2"></i>
                                Niciun neurotipic care a susÈ›inut testul nu a obÈ›inut un scor peste pragul autismului.
                            </li>
                            <li class="list-group-item">
                                <i class="fas fa-check text-success me-2"></i>
                                Doar 3% din grupul de autiÈ™ti nu au obÈ›inut un scor peste 65.
                            </li>
                            <li class="list-group-item">
                                <i class="fas fa-check text-success me-2"></i>
                                Fiabilitatea test-retest a fost ridicatÄƒ, Ã®n special pentru grupul de autiÈ™ti *.
                            </li>
                        </ul>
                    </div>

                    <div class="sensitivity-explanation">
                        <div class="card bg-light">
                            <div class="card-body">
                                <p>O <b>sensibilitate</b> de <b>97%</b> Ã®nseamnÄƒ cÄƒ 97% dintre persoanele autiste care au efectuat testul au atins scorul limitÄƒ È™i au fost clasificate cu exactitate ca autiste. Altfel spus, reprezintÄƒ proporÈ›ia de autiÈ™ti care au fost clasificaÈ›i corect ca autiÈ™ti pe baza chestionarului.</p>
                                <p>Ãn schimb, un <b>scor de specificitate</b> de 100% Ã®nseamnÄƒ cÄƒ toate persoanele neurotipice care au participat la test s-au situat sub scorul limitÄƒ È™i au fost clasificate cu exactitate ca neautiste.</p>
                                <div class="alert alert-success">
                                    <i class="fas fa-chart-line me-2"></i>
                                    <strong>Concluzie:</strong> Conform studiului seminal, testul RAADS-R are o probabilitate ridicatÄƒ de a-i clasifica cu exactitate pe cei care participÄƒ la test ca autiÈ™ti sau non-autiÈ™ti.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="section-divider d-md-none"></div>
    <div class="interpretation-section" id="section-instructions">
        <div class="card-header">
            <i class="fas fa-globe text-info me-2"></i>
            <h2 class="h3 mb-0">Care sunt ariile evaluate de testul RAADS-R pentru autism la adulÈ›i?</h2>
        </div>
        <div class="container">
            <div class="row">
                <!-- Language Card -->
                <div class="col-md-3">
                    <div class="subscale-card h-100">
                        <h3><i class="fas fa-comments text-primary me-2"></i>Limbaj</h3>
                        <div class="card-content">
                            <p class="subtitle">7 afirmaÈ›ii care evalueazÄƒ:</p>
                            <ul class="feature-list">
                                <li>
                                    <i class="fas fa-film text-info"></i>
                                    <span><strong>Vorbirea din filme:</strong> Prietenii observÄƒ cÄƒ ai auzit ceva nou pentru cÄƒ Ã®ncepi sÄƒ foloseÈ™ti regulat cuvÃ¢ntul sau fraza.</span>
                                </li>
                                <li>
                                    <i class="fas fa-coffee text-warning"></i>
                                    <span><strong>Small talk:</strong> O conversaÈ›ie uÈ™oarÄƒ despre lucruri neimportante pe care oamenii o poartÄƒ Ã®n timpul interacÈ›iunilor socialeâ€”Ã®n loc de subiecte care sunt cu adevÄƒrat interesante È™i distractive.</span>
                                </li>
                                <li>
                                    <i class="fas fa-quote-right text-success"></i>
                                    <span><strong>A fi literal:</strong> ProvocÄƒri cÃ¢nd limbajul 'ce se spune' nu se potriveÈ™te cu limbajul 'ce se Ã®nÈ›elege'.</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Social Relatedness Card -->
                <div class="col-md-3">
                    <div class="subscale-card h-100">
                        <h3><i class="fas fa-users text-success me-2"></i>RelaÈ›ionare socialÄƒ</h3>
                        <div class="card-content">
                            <p class="subtitle">39 afirmaÈ›ii care evalueazÄƒ:</p>
                            <ul class="feature-list">
                                <li>
                                    <i class="fas fa-brain text-purple"></i>
                                    <span><strong>Mentalizare:</strong> ProvocÄƒri Ã®n Ã®nÈ›elegerea gÃ¢ndurilor sau sentimentelor celorlalÈ›i.</span>
                                </li>
                                <li>
                                    <i class="fas fa-heart text-danger"></i>
                                    <span><strong>Interese comune:</strong> PreferinÈ›a de a fi cu persoane cu care Ã®mpÄƒrtÄƒÈ™iÈ›i interese.</span>
                                </li>
                                <li>
                                    <i class="fas fa-fingerprint text-info"></i>
                                    <span><strong>A fi diferit:</strong> A fi considerat 'diferit'.</span>
                                </li>
                                <li>
                                    <i class="fas fa-comment-dots text-warning"></i>
                                    <span><strong>DirecteÈ›e:</strong> A fi considerat nepoliticos; sau cÄƒ ai pus Ã®ntrebÄƒri jenante; sau ai arÄƒtat cÃ¢nd alÈ›ii au fÄƒcut o greÈ™ealÄƒ.</span>
                                </li>
                                <li>
                                    <i class="fas fa-exchange-alt text-success"></i>
                                    <span><strong>Reciprocitate dialecticÄƒ:</strong> ProvocÄƒri Ã®n a È™ti cÃ¢nd este rÃ¢ndul tÄƒu sÄƒ vorbeÈ™ti.</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Sensory-Motor Card -->
                <div class="col-md-3">
                    <div class="subscale-card h-100">
                        <h3><i class="fas fa-hand-paper text-danger me-2"></i>Senzorial-motor</h3>
                        <div class="card-content">
                            <p class="subtitle">20 afirmaÈ›ii care evalueazÄƒ:</p>
                            <ul class="feature-list">
                                <li>
                                    <i class="fas fa-volume-up text-warning"></i>
                                    <span><strong>ProvocÄƒri cu volumul vocii:</strong> Vorbit foarte tare, nu suficient de tare, sau fluctuaÈ›ii semnificative Ã®ntre cele douÄƒ.</span>
                                </li>
                                <li>
                                    <i class="fas fa-microphone text-info"></i>
                                    <span><strong>DiferenÈ›e de voce:</strong> Vorbire monotonÄƒ, ca un copil, sau Ã®n voci ciudate.</span>
                                </li>
                                <li>
                                    <i class="fas fa-running text-success"></i>
                                    <span><strong>Probleme de control motor:</strong> StÃ¢ngÄƒcie È™i lipsÄƒ de coordonare.</span>
                                </li>
                                <li>
                                    <i class="fas fa-eye text-purple"></i>
                                    <span><strong>Senzorial:</strong> Stimularea senzorialÄƒ care nu deranjeazÄƒ pe alÈ›ii poate fi dureroasÄƒ È™i copleÈ™itoare.</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Circumscribed Interests Card -->
                <div class="col-md-3">
                    <div class="subscale-card h-100">
                        <h3><i class="fas fa-bullseye text-warning me-2"></i>Interese circumscrise</h3>
                        <div class="card-content">
                            <p class="subtitle">14 afirmaÈ›ii care evalueazÄƒ:</p>
                            <ul class="feature-list">
                                <li>
                                    <i class="fas fa-search-plus text-primary"></i>
                                    <span><strong>PreferinÈ›Äƒ pentru detalii:</strong> focalizare pe detalii Ã®nainte de imaginea de ansamblu.</span>
                                </li>
                                <li>
                                    <i class="fas fa-exclamation-triangle text-danger"></i>
                                    <span><strong>SupÄƒrare la neprevÄƒzut:</strong> O neplÄƒcere cÃ¢nd cineva Ã®È›i schimbÄƒ rutina.</span>
                                </li>
                                <li>
                                    <i class="fas fa-star text-warning"></i>
                                    <span><strong>Interese speciale:</strong> Vorbitul despre ele, avÃ¢nd-le...</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="section-divider d-md-none"></div>
    <div class="test-actual-container" id="section-quiz">
        <!-- Disclaimer -->
        <div id="first-disclaimer" class="alert alert-warning alert-dismissible fade show mb-4" role="alert">
            <h2 class="alert-heading h3 mb-3">Avertisment <strong>IMPORTANT</strong> È™i <strong>Disclaimer</strong> - <strong>CiteÈ™te ÃNAINTE</strong> de a Ã®ncepe testul!</h2>
            <p>
                Acest test este destinat <b>EXCLUSIV</b> Ã®n scop informativ È™i <b>NU</b> trebuie utilizat ca un instrument de diagnostic. DeÈ™i testul a fost adaptat pentru a rÄƒspunde nevoilor persoanelor autiste, el <b>NU</b> Ã®nlocuieÈ™te o evaluare profesionalÄƒ efectuatÄƒ de un profesionist calificat Ã®n domeniul sÄƒnÄƒtÄƒÈ›ii mintale sau un profesionist medical calificat.</p>

            <p>Pentru evaluÄƒri profesionale, vÄƒ recomandÄƒm sÄƒ vizitaÈ›i <a href="https://www.doctoradhd.com/" target="_blank">doctoradhd.com</a>.</p>
            <p>
                VÄƒ Ã®ncurajÄƒm sÄƒ folosiÈ›i rezultatele Ã®n mod <strong>responsabil</strong> È™i sÄƒ cÄƒutaÈ›i <b>suport profesional calificat, de specialitate</b> dacÄƒ aveÈ›i nevoie de o evaluare detaliatÄƒ.
            </p>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        <!-- Disclaimer end -->
        <h2 class="text-center mb-4"><b>Testul Ritvo pentru Autism / Asperger la AdulÈ›i - EdiÈ›ia RevizuitÄƒ</b></h2>
        <div class="card mb-4">
            <div class="card-body">
                <p class="card-text">Acest test constÄƒ Ã®n 80 de afirmaÈ›ii pentru a asista Ã®n screening-ul autismului la adulÈ›i. SelecteazÄƒ rÄƒspunsul care se potriveÈ™te cel mai bine cu tine.</p>
            </div>
        </div>

        <div id="test">
            <form id="raadsrForm" class="mb-4">
                <div id="error" class="alert alert-danger" style="display: none;"></div>
                <!-- Questions will be injected here -->
            </form>

            <div class="modal fade" id="restartWarningModal" tabindex="-1" aria-labelledby="restartWarningModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="restartWarningModalLabel">Confirmare restart test</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p class="text-danger mb-3">
                                <strong>AtenÈ›ie!</strong> SunteÈ›i pe cale sÄƒ Ã®ncepeÈ›i un test nou.
                            </p>
                            <p>
                                Toate rÄƒspunsurile È™i scorul actual vor fi È™terse. VÄƒ recomandÄƒm sÄƒ exportaÈ›i mai Ã®ntÃ¢i rezultatele ca PDF
                                dacÄƒ doriÈ›i sÄƒ le pÄƒstraÈ›i.
                            </p>
                            <p class="mb-0">
                                DoriÈ›i sÄƒ continuaÈ›i?
                            </p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">AnuleazÄƒ</button>
                            <button type="button" class="btn btn-danger" id="confirmRestartBtn">Da, Ã®ncepe un test nou</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="errorBelow" class="alert alert-danger" style="display: none;"></div>

            <button type="button" id="submitBtn" class="btn btn-primary btn-lg w-100 mb-4 action-btn calculate-btn">
                <i class="fas fa-calculator"></i>
                CalculeazÄƒ Scorul
            </button>

            <div id="result" class="alert alert-success" style="display:none;"></div>

            <button type="button" id="shareBtn" class="btn btn-primary btn-lg w-100 mb-4 action-btn share-btn" style="display:none; background-color: #1877f2;">
                <i class="fab fa-facebook me-2"></i>
                Distribuie pe Facebook
            </button>

            <button type="button" id="exportBtn" class="btn btn-success btn-lg w-100 mb-4 action-btn export-btn" style="display:none">
                <i class="fas fa-file-pdf"></i>
                ExportÄƒ ca PDF
            </button>

            <button type="button" id="restartBtn" class="btn btn-secondary btn-lg w-100 mb-4 action-btn restart-btn" style="display:none">
                <i class="fas fa-redo-alt"></i>
                Ãncepe un nou test
            </button>
        </div>
    </div>
    <div class="section-divider d-md-none"></div>
    <div class="scores-interpretation-section my-5" id="section-results">
        <div class="container">
            <!-- Main Title Section -->
            <div class="text-center mb-5">
                <h2 class="display-5 fw-bold mb-4">Ce Ã®nseamnÄƒ scorul meu?</h2>
                <p class="lead">
                    Toate scorurile de <span class="badge bg-primary">65</span> sau mai mari indicÄƒ trÄƒsÄƒturi autiste.
                    Cu cÃ¢t scorul este mai mare, cu atÃ¢t aveÈ›i mai multe trÄƒsÄƒturi autiste.
                </p>
                <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i>
                    ReÈ›ineÈ›i cÄƒ niciun test nu este concludent È™i cÄƒ nu toate persoanele autiste obÈ›in neapÄƒrat scoruri peste pragul definit la fiecare test. Acest test este destinat <b>EXCLUSIV</b> Ã®n scop informativ È™i <b>NU</b> trebuie utilizat ca un instrument de diagnostic. DeÈ™i testul a fost adaptat pentru a rÄƒspunde nevoilor persoanelor autiste, el <b>NU</b> Ã®nlocuieÈ™te o evaluare profesionalÄƒ efectuatÄƒ de un profesionist calificat Ã®n domeniul sÄƒnÄƒtÄƒÈ›ii mintale sau un profesionist medical calificat. Pentru evaluÄƒri profesionale, vÄƒ recomandÄƒm sÄƒ vizitaÈ›i <a href="https://www.doctoradhd.com/" target="_blank">doctoradhd.com</a>.
                </div>
            </div>

            <!-- Validity Section -->
            <div class="row g-4">
                <div class="col-12">
                    <h3 class="fw-bold mb-1">Validitate RAADS-R</h3>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center">
                            <div class="display-4 text-primary mb-3">97% *</div>
                            <h5 class="card-title">Sensibilitate</h5>
                            <p class="card-text">Capacitatea testului de a identifica rezultate pozitive</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center">
                            <div class="display-4 text-success mb-3">100% *</div>
                            <h5 class="card-title">Specificitate</h5>
                            <p class="card-text">Capacitatea testului de a identifica rezultate negative</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center">
                            <div class="display-4 text-warning mb-3">96% *</div>
                            <h5 class="card-title">Validitate concurentÄƒ</h5>
                            <p class="card-text">Validitatea comparatÄƒ cu ADOS Module 4, SRS</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center">
                            <div class="display-4 text-info mb-3">0.987 *</div>
                            <h5 class="card-title">Fiabilitate test-retest</h5>
                            <p class="card-text">ConcordanÈ›a Ã®ntre rezultatele mÄƒsurÄƒtorilor succesive</p>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <b>* Date preluate din cadrul:</b>
                    <div class="citation-box">
                        <i class="fas fa-book text-muted me-2"></i>
                        <strong>Lucrare / studiu seminal:</strong>
                        <em>Ritvo, R. A., et al. (2011). The Ritvo Autism Asperger Diagnostic Scale - Revised (RAADS-R): a scale to assist the diagnosis of autism spectrum disorder in adults: an international validation study.</em>
                        <a href="https://doi.org/10.1007/s10803-010-1133-5" target="_blank" class="doi-link">
                            <i class="fas fa-external-link-alt"></i> Link DOI cÄƒtre studiul original
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="section-divider d-md-none"></div>
    <div class="scores-section">
        <!-- Score Significance Table -->
        <div class="score-card">
            <div class="card-header">
                <i class="fas fa-chart-line text-primary me-2"></i>
                <h3>SemnificaÈ›ia scorurilor RAADS-R</h3>
            </div>
            <div class="table-responsive">
                <table class="score-table significance-table">
                    <thead>
                        <tr>
                            <th width="120">Scor</th>
                            <th>Interpretare</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="score-value">25</td>
                            <td>Nu eÈ™ti autist(Äƒ).</td>
                        </tr>
                        <tr>
                            <td class="score-value">50</td>
                            <td>Ai unele trÄƒsÄƒturi autiste, dar probabil nu eÈ™ti autist(Äƒ).</td>
                        </tr>
                        <tr>
                            <td class="score-value">65</td>
                            <td>Scorul minim la care se considerÄƒ autism.</td>
                        </tr>
                        <tr>
                            <td class="score-value">90</td>
                            <td>IndicaÈ›ii mai puternice de autism, deÈ™i È™i non-autiÈ™tii pot obÈ›ine scoruri atÃ¢t de mari.</td>
                        </tr>
                        <tr>
                            <td class="score-value">130</td>
                            <td>Scorul mediu al persoanelor autiste; dovezi solide pentru autism.</td>
                        </tr>
                        <tr>
                            <td class="score-value">160</td>
                            <td>Dovezi foarte solide pentru autism.</td>
                        </tr>
                        <tr>
                            <td class="score-value">227</td>
                            <td>Scorul maxim obÈ›inut de o persoanÄƒ autistÄƒ Ã®n studiul original.</td>
                        </tr>
                        <tr>
                            <td class="score-value">240</td>
                            <td>Scorul maxim posibil RAADS-R.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- RAADS-R Scores Table -->
        <div class="score-card">
            <div class="card-header">
                <i class="fas fa-table text-success me-2"></i>
                <h3>Praguri de scor RAADS-R</h3>
            </div>
            <div class="table-responsive">
                <table class="score-table thresholds-table">
                    <thead>
                        <tr>
                            <th>ConstrucÈ›ie</th>
                            <th width="120">Scor prag</th>
                            <th width="120">Scor maxim</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Scor total</td>
                            <td class="threshold">65</td>
                            <td class="max-score">240</td>
                        </tr>
                        <tr>
                            <td>Limbaj</td>
                            <td class="threshold">4</td>
                            <td class="max-score">21</td>
                        </tr>
                        <tr>
                            <td>RelaÈ›ionare socialÄƒ</td>
                            <td class="threshold">31</td>
                            <td class="max-score">117</td>
                        </tr>
                        <tr>
                            <td>Senzorial-motor</td>
                            <td class="threshold">16</td>
                            <td class="max-score">60</td>
                        </tr>
                        <tr>
                            <td>Interese circumscrise</td>
                            <td class="threshold">15</td>
                            <td class="max-score">42</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="section-divider d-md-none"></div>
    <div class="scoring-system">
        <div class="scoring-container">
            <!-- Regular Scoring -->
            <div class="scoring-card">
                <div class="card-header">
                    <i class="fas fa-calculator text-primary me-2"></i>
                    <h3>Scorarea Standard</h3>
                </div>
                <div class="scoring-grid">
                    <div class="score-item">
                        <div class="score-value">3</div>
                        <div class="score-label">
                            <i class="fas fa-check-circle text-success"></i>
                            AdevÄƒrat acum È™i cÃ¢nd eram mic(Äƒ)
                        </div>
                    </div>
                    <div class="score-item">
                        <div class="score-value">2</div>
                        <div class="score-label">
                            <i class="fas fa-clock text-warning"></i>
                            AdevÄƒrat doar acum
                        </div>
                    </div>
                    <div class="score-item">
                        <div class="score-value">1</div>
                        <div class="score-label">
                            <i class="fas fa-history text-info"></i>
                            AdevÄƒrat doar cÃ¢nd aveam sub 16 ani
                        </div>
                    </div>
                    <div class="score-item">
                        <div class="score-value">0</div>
                        <div class="score-label">
                            <i class="fas fa-times-circle text-danger"></i>
                            NiciodatÄƒ adevÄƒrat
                        </div>
                    </div>
                </div>
            </div>

            <!-- Inverse Scoring -->
            <div class="scoring-card inverse">
                <div class="card-header">
                    <i class="fas fa-sync-alt text-warning me-2"></i>
                    <h3>Scorare InversÄƒ</h3>
                    <span class="badge bg-info ms-2">Pentru Ã®ntrebÄƒrile normative</span>
                </div>
                <div class="scoring-grid">
                    <div class="score-item">
                        <div class="score-value">0</div>
                        <div class="score-label">
                            <i class="fas fa-check-circle text-success"></i>
                            AdevÄƒrat acum È™i cÃ¢nd eram mic(Äƒ)
                        </div>
                    </div>
                    <div class="score-item">
                        <div class="score-value">1</div>
                        <div class="score-label">
                            <i class="fas fa-clock text-warning"></i>
                            AdevÄƒrat doar acum
                        </div>
                    </div>
                    <div class="score-item">
                        <div class="score-value">2</div>
                        <div class="score-label">
                            <i class="fas fa-history text-info"></i>
                            AdevÄƒrat doar cÃ¢nd aveam sub 16 ani
                        </div>
                    </div>
                    <div class="score-item">
                        <div class="score-value">3</div>
                        <div class="score-label">
                            <i class="fas fa-times-circle text-danger"></i>
                            NiciodatÄƒ adevÄƒrat
                        </div>
                    </div>
                </div>
            </div>

            <!-- Normative Questions -->
            <div class="scoring-card questions">
                <div class="card-header">
                    <i class="fas fa-list-ol text-success me-2"></i>
                    <h3>ÃntrebÄƒri Normative cu Scorare InversÄƒ</h3>
                    <span class="badge bg-primary ms-2">17 Ã®ntrebÄƒri</span>
                </div>
                <div class="questions-list">
                    <div class="alert alert-info" role="alert">
                        <i class="fas fa-info-circle me-2"></i>
                        UrmÄƒtoarele Ã®ntrebÄƒri folosesc sistemul de scorare inversÄƒ prezentat mai sus.
                    </div>
                    <ol class="normative-questions">
                        <li>Exprim grijÄƒ È™i empatie, deÈ™i nu Ã®ntotdeauna Ã®ntr-un mod tipic.</li>
                        <li>Ãmi lipsesc prietenii apropiaÈ›i sau familia cÃ¢nd suntem despÄƒrÈ›iÈ›i pentru mult timp, deÈ™i nu arÄƒt mereu acest lucru.</li>
                        <li>Uneori spun lucruri direct fÄƒrÄƒ intenÈ›ia de a deranja pe cineva.</li>
                        <li>Recunosc cÃ¢nd cineva apropiat are nevoie de consolare, deÈ™i poate cÄƒ nu È™tiu Ã®ntotdeauna cum sÄƒ reacÈ›ionez.</li>
                        <li>MÄƒ simt cel mai confortabil vorbind cu oameni care Ã®mpÄƒrtÄƒÈ™esc aceleaÈ™i interese ca mine.</li>
                        <li>Vorba mea are un ritm È™i ton de voce considerat tipic de cei din jurul meu.</li>
                        <li>Ãmi dau seama cÃ¢nd cineva spune un lucru, dar vrea sÄƒ Ã®nsemne altceva.</li>
                        <li>Ãmi place sÄƒ discut lucruri importante sau sÄƒ procesez lucrurile Ã®mpreunÄƒ cu prietenii.</li>
                        <li>MÄƒ simt confortabil È™i Ã®ncrezÄƒtor(Äƒ) Ã®n situaÈ›iile de Ã®ntÃ¢lniri sau sociale cu alÈ›ii.</li>
                        <li>CÃ¢nd oamenii Ã®mi Ã®mpÄƒrtÄƒÈ™esc problemele lor personale, Ã®ncerc sÄƒ ofer sprijin cÃ¢t pot de bine.</li>
                        <li>Oamenii Ã®mi spun deseori cÄƒ dau prea multe detalii atunci cÃ¢nd explic ceva.</li>
                        <li>Mi se spune adesea cÄƒ pun Ã®ntrebÄƒri stÃ¢njenitoare sau incomode.</li>
                        <li>Am tendinÈ›a sÄƒ arÄƒt greÈ™elile altora, chiar dacÄƒ nu este necesar.</li>
                        <li>Ãmi este dificil sÄƒ recunosc cÃ¢nd cineva flirteazÄƒ cu mine sau Ã®mi aratÄƒ interes romantic.</li>
                        <li>Nu mÄƒ conectez uÈ™or emoÈ›ional cu personajele din filme sau poveÈ™ti.</li>
                        <li>MÄƒ simt cel mai confortabil vorbind despre subiecte care mÄƒ intereseazÄƒ profund.</li>
                        <li>Am fost descris(Äƒ) ca fiind diferit(Äƒ) sau neconvenÈ›ional(Äƒ).</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    <div class="section-divider d-md-none"></div>
    <div class="services-section" id="section-support">
        <div class="services-container">
            <!-- Header Section -->
            <div class="services-header">
                <h3>
                    <i class="fas fa-hands-helping text-primary me-2"></i>
                    Servicii de Consiliere È™i Coaching
                </h3>
                <p class="intro-text">
                    Pentru cei interesaÈ›i de consiliere parentalÄƒ È™i personalÄƒ È™i coaching Ã®n neurodivergenÈ›Äƒ concepute pentru o implicare pe termen lung,
                    <a href="https://www.ovidiuplaton.com" target="_blank" class="expert-link">
                        <i class="fas fa-user-tie"></i>
                        Ovidiu Platon
                    </a>
                    oferÄƒ o serie de servicii suplimentare pentru persoane, grupuri È™i corporaÈ›ii.
                </p>
                <div class="approach-box">
                    <i class="fas fa-lightbulb text-warning"></i>
                    <p>Aceste servicii se axeazÄƒ pe valorificarea puterii transformatoare a miÈ™cÄƒrii È™i a imaginilor vizuale pentru a te ajuta sÄƒ te aliniezi la nevoile È™i aspiraÈ›iile tale unice.</p>
                </div>
            </div>

            <!-- Services Grid -->
            <div class="services-grid">
                <!-- Individual Counseling -->
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <h4>Consiliere IndividualÄƒ</h4>
                    <div class="price">
                        <span class="amount">240 RON</span>
                        <span class="duration">/ 60 minute</span>
                    </div>
                    <div class="price-note">ÃncepÃ¢nd de la</div>
                </div>

                <!-- Group Counseling -->
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h4>Consiliere de Grup</h4>
                    <div class="price">
                        <span class="amount">160 RON</span>
                        <span class="duration">/ È™edinÈ›Äƒ</span>
                    </div>
                </div>

                <!-- Parent Counseling -->
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h4>Consiliere pentru PÄƒrinÈ›i</h4>
                    <div class="price">
                        <span class="amount">240 RON</span>
                        <span class="duration">/ 60 minute</span>
                    </div>
                    <div class="price-note">Pentru pÄƒrinÈ›ii persoanelor neurodivergente</div>
                </div>

                <!-- Support Groups -->
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-hand-holding-heart"></i>
                    </div>
                    <h4>Grupuri de Sprijin</h4>
                    <div class="price">
                        <span class="amount">160 RON</span>
                        <span class="duration">/ È™edinÈ›Äƒ</span>
                    </div>
                </div>

                <!-- Corporate Services -->
                <div class="service-card special">
                    <div class="service-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <h4>Servicii Corporate</h4>
                    <div class="corporate-note">
                        <i class="fas fa-check-circle"></i>
                        Personalizate conform necesitÄƒÈ›ilor organizaÈ›iei
                    </div>
                </div>
            </div>

            <!-- Contact Section -->
            <div class="contact-section">
                <div class="contact-card">
                    <h4>
                        <i class="fas fa-info-circle text-primary me-2"></i>
                        Mai multe informaÈ›ii
                    </h4>
                    <p>Pentru o descriere completÄƒ a serviciilor È™i pentru a afla cum pot sÄƒ te sprijin:</p>
                    <div class="contact-options">
                        <a href="https://www.ovidiuplaton.com/" target="_blank" class="contact-link">
                            <i class="fas fa-globe"></i>
                            ovidiuplaton.com
                        </a>
                        <a href="mailto:hello@ovidiuplaton.com" class="contact-link">
                            <i class="fas fa-envelope"></i>
                            hello@ovidiuplaton.com
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
const questions = [
    // 80 de Ã®ntrebÄƒri ca obiecte cu text È™i flag pentru inversare
    // Indexarea Ã®ncepe de la 1 pentru claritate
    { id: 1, text: "Exprim grijÄƒ È™i empatie, deÈ™i nu Ã®ntotdeauna Ã®ntr-un mod tipic.", inverse: true },
    { id: 2, text: "Repet adesea fraze din filme sau emisiuni TV Ã®n conversaÈ›ii pentru cÄƒ mÄƒ ajutÄƒ sÄƒ mÄƒ exprim.", inverse: false },
    { id: 3, text: "Uneori nu-mi dau seama cÄƒ vorbele sau acÈ›iunile mele pot pÄƒrea grosolane pentru ceilalÈ›i.", inverse: false },
    { id: 4, text: "Am dificultÄƒÈ›i Ã®n a-mi regla volumul vocii, vorbind uneori prea tare sau prea Ã®ncet.", inverse: false },
    { id: 5, text: "Ãn situaÈ›ii sociale, de multe ori mÄƒ simt nesigur(Äƒ) Ã®n legÄƒturÄƒ cu cum sÄƒ mÄƒ comport.", inverse: false },
    { id: 6, text: "Pot sÄƒ Ã®mi imaginez perspectivele altora, deÈ™i poate necesita efort suplimentar pentru a Ã®nÈ›elege sentimentele lor.", inverse: false },
    { id: 7, text: "Limbajul figurativ (ex. â€eÈ™ti mÄƒrul ochilor meiâ€) este dificil de Ã®nÈ›eles pentru mine.", inverse: false },
    { id: 8, text: "MÄƒ simt cel mai confortabil vorbind cu oameni care Ã®mpÄƒrtÄƒÈ™esc aceleaÈ™i interese ca mine.", inverse: true },
    { id: 9, text: "MÄƒ concentrez pe detalii mici Ã®nainte de a vedea imaginea de ansamblu.", inverse: false },
    { id: 10, text: "Textura mÃ¢ncÄƒrii Ã®n gurÄƒ este mai importantÄƒ pentru mine decÃ¢t gustul ei.", inverse: false },
    { id: 11, text: "Ãmi lipsesc prietenii apropiaÈ›i sau familia cÃ¢nd suntem despÄƒrÈ›iÈ›i pentru mult timp, deÈ™i nu arÄƒt mereu acest lucru.", inverse: true },
    { id: 12, text: "Uneori spun lucruri direct fÄƒrÄƒ intenÈ›ia de a deranja pe cineva.", inverse: true },
    { id: 13, text: "Prefer sÄƒ vorbesc despre subiecte specifice care mÄƒ intereseazÄƒ profund.", inverse: false },
    { id: 14, text: "Prefer deseori sÄƒ petrec timp singur(Äƒ), chiar È™i Ã®n locuri unde alÈ›ii se aÈ™teaptÄƒ sÄƒ socializez.", inverse: false },
    { id: 15, text: "Ãmi este dificil sÄƒ-mi imaginez cum ar fi sÄƒ fiu altcineva sau sÄƒ vÄƒd lucrurile din perspectiva lor.", inverse: false },
    { id: 16, text: "Oamenii mi-au spus cÄƒ sunt stÃ¢ngaci(Äƒ) sau neÃ®ndemÃ¢natic(Äƒ).", inverse: false },
    { id: 17, text: "Am fost descris(Äƒ) ca fiind diferit(Äƒ) sau neconvenÈ›ional(Äƒ).", inverse: true },
    { id: 18, text: "Recunosc cÃ¢nd cineva apropiat are nevoie de consolare, deÈ™i poate cÄƒ nu È™tiu Ã®ntotdeauna cum sÄƒ reacÈ›ionez.", inverse: true },
    { id: 19, text: "Sunt foarte sensibil(Äƒ) la cum simt hainele pe pielea mea.", inverse: false },
    { id: 20, text: "Uneori copiez comportamentele altora pentru a mÄƒ integra sau pentru a pÄƒrea mai â€normal(Äƒ)â€.", inverse: false },
    { id: 21, text: "A vorbi cu mai multe persoane Ã®n acelaÈ™i timp poate fi copleÈ™itor sau intimidant pentru mine.", inverse: false },
    { id: 22, text: "Simt deseori presiunea de a mÄƒ comporta aÈ™a cum se aÈ™teaptÄƒ ceilalÈ›i, chiar dacÄƒ nu este natural pentru mine.", inverse: false },
    { id: 23, text: "ÃntÃ¢lnirile cu oameni noi pot fi dificile sau stresante pentru mine.", inverse: false },
    { id: 24, text: "MÄƒ simt confuz(Äƒ) sau frustrat(Äƒ) cÃ¢nd oamenii mÄƒ Ã®ntrerup atunci cÃ¢nd sunt concentrat(Äƒ) pe un subiect care mÄƒ pasioneazÄƒ.", inverse: false },
    { id: 25, text: "Ãmi este greu sÄƒ Ã®nÈ›eleg emoÈ›iile altor persoane Ã®n timpul conversaÈ›iilor.", inverse: false },
    { id: 26, text: "A lua parte la conversaÈ›ii de grup poate fi o provocare pentru mine.", inverse: false },
    { id: 27, text: "Am tendinÈ›a de a lua lucrurile literal, ceea ce poate face sÄƒ pierd subtilitÄƒÈ›ile unei conversaÈ›ii.", inverse: false },
    { id: 28, text: "Ãmi este dificil sÄƒ recunosc cÃ¢nd cineva simte emoÈ›ii precum jenÄƒ sau invidie.", inverse: false },
    { id: 29, text: "Anumite texturi care nu deranjeazÄƒ pe alÈ›ii pot fi foarte inconfortabile pentru mine.", inverse: false },
    { id: 30, text: "MÄƒ supÄƒr cÃ¢nd rutina mea este schimbatÄƒ neaÈ™teptat.", inverse: false },
    { id: 31, text: "Nu am simÈ›it niciodatÄƒ nevoia de a fi Ã®ntr-o relaÈ›ie â€intimÄƒâ€ aÈ™a cum o numesc alÈ›ii.", inverse: false },
    { id: 32, text: "Ãmi este greu sÄƒ Ã®ncep sau sÄƒ opresc o conversaÈ›ie pÃ¢nÄƒ nu simt cÄƒ mi-am terminat gÃ¢ndurile.", inverse: false },
    { id: 33, text: "Vorbesc cu un ritm È™i ton de voce considerat tipic de cei din jurul meu.", inverse: true },
    { id: 34, text: "AcelaÈ™i sunet, culoare sau texturÄƒ mÄƒ poate afecta diferit la momente diferite.", inverse: false },
    { id: 35, text: "Unele expresii, cum ar fi â€te am sub piele,â€ mÄƒ fac sÄƒ mÄƒ simt inconfortabil sau sunt greu de Ã®nÈ›eles.", inverse: false },
    { id: 36, text: "Anumite sunete, cum ar fi zgomotele Ã®nalte sau anumite cuvinte, pot fi dureroase fizic de auzit.", inverse: false },
    { id: 37, text: "Ãncerc sÄƒ fiu Ã®nÈ›elegÄƒtor/Ã®nÈ›elegÄƒtoare atunci cÃ¢nd alÈ›ii Ã®È™i Ã®mpÄƒrtÄƒÈ™esc sentimentele sau problemele personale cu mine.", inverse: true },
    { id: 38, text: "Nu mÄƒ conectez uÈ™or emoÈ›ional cu personajele din filme sau poveÈ™ti.", inverse: true },
    { id: 39, text: "Ãmi este dificil sÄƒ recunosc cÃ¢nd cineva flirteazÄƒ cu mine sau Ã®mi aratÄƒ interes romantic.", inverse: true },
    { id: 40, text: "Pot vizualiza Ã®n mintea mea Ã®n detaliu lucrurile care mÄƒ intereseazÄƒ.", inverse: false },
    { id: 41, text: "Ãmi place sÄƒ pÄƒstrez liste sau colecÈ›ii de fapte specifice, chiar dacÄƒ nu au o utilizare practicÄƒ.", inverse: false },
    { id: 42, text: "CÃ¢nd sunt copleÈ™it(Äƒ) de stimuli senzoriali, am nevoie sÄƒ mÄƒ izolez pentru a mÄƒ liniÈ™ti.", inverse: false },
    { id: 43, text: "Ãmi place sÄƒ discut lucruri importante sau sÄƒ procesez lucrurile Ã®mpreunÄƒ cu prietenii.", inverse: true },
    { id: 44, text: "Ãmi este greu sÄƒ Ã®mi dau seama dacÄƒ cineva este interesat sau plictisit Ã®n timp ce vorbesc.", inverse: false },
    { id: 45, text: "Ãmi este dificil sÄƒ citesc limbajul corporal sau expresiile faciale ale altor persoane.", inverse: false },
    { id: 46, text: "ExperienÈ›ele senzoriale precum atingerea sau temperatura pot sÄƒ mÄƒ afecteze diferit Ã®n momente diferite.", inverse: false },
    { id: 47, text: "MÄƒ simt confortabil È™i Ã®ncrezÄƒtor(Äƒ) Ã®n situaÈ›iile de Ã®ntÃ¢lniri sau sociale cu alÈ›ii.", inverse: true },
    { id: 48, text: "CÃ¢nd oamenii Ã®mi Ã®mpÄƒrtÄƒÈ™esc problemele lor personale, Ã®ncerc sÄƒ ofer sprijin cÃ¢t pot de bine.", inverse: true },
    { id: 49, text: "Mi s-a spus cÄƒ vocea mea este neobiÈ™nuitÄƒ Ã®ntr-un fel (ex. monotonÄƒ, Ã®naltÄƒ, copilÄƒroasÄƒ).", inverse: false },
    { id: 50, text: "Uneori un anumit subiect sau gÃ¢nd rÄƒmÃ¢ne blocat Ã®n mintea mea È™i simt nevoia sÄƒ vorbesc despre el chiar dacÄƒ ceilalÈ›i nu sunt interesaÈ›i.", inverse: false },
    { id: 51, text: "Fac deseori miÈ™cÄƒri repetitive cu mÃ¢inile sau cu obiecte (ex. fluturare, Ã®nvÃ¢rtire, sau miÈ™carea obiectelor Ã®n faÈ›a ochilor mei).", inverse: false },
    { id: 52, text: "Nu gÄƒsesc majoritatea lucrurilor care Ã®i intereseazÄƒ pe ceilalÈ›i foarte captivante.", inverse: false },
    { id: 53, text: "Sunt considerat(Äƒ) o persoanÄƒ compasionalÄƒ, deÈ™i pot arÄƒta acest lucru Ã®n moduri diferite.", inverse: true },
    { id: 54, text: "InteracÈ›ionez cu ceilalÈ›i urmÃ¢nd reguli sociale specifice pe care le-am Ã®nvÄƒÈ›at pentru a mÄƒ integra.", inverse: true },
    { id: 55, text: "Ãmi este foarte dificil sÄƒ lucrez È™i sÄƒ funcÈ›ionez Ã®n grupuri.", inverse: false },
    { id: 56, text: "CÃ¢nd cineva schimbÄƒ subiectul Ã®n timp ce vorbesc, mÄƒ simt derutat(Äƒ) È™i confuz(Äƒ).", inverse: false },
    { id: 57, text: "Uneori trebuie sÄƒ Ã®mi acopÄƒr urechile pentru a bloca zgomotele copleÈ™itoare (ex. vocile puternice, aspiratorul).", inverse: false },
    { id: 58, text: "Sunt capabil(Äƒ) sÄƒ port conversaÈ›ii lejere, deÈ™i poate necesita un efort suplimentar.", inverse: false },
    { id: 59, text: "Uneori lucruri care ar trebui sÄƒ fie dureroase, cum ar fi rÄƒnile, nu par sÄƒ provoace atÃ¢ta durere.", inverse: false },
    { id: 60, text: "CÃ¢nd vorbesc cu cineva, Ã®mi este adesea greu sÄƒ Ã®mi dau seama cÃ¢nd este rÃ¢ndul meu sÄƒ vorbesc sau sÄƒ ascult.", inverse: false },
    { id: 61, text: "Sunt deseori vÄƒzut(Äƒ) ca un â€lup singuraticâ€ de cÄƒtre cei care mÄƒ cunosc cel mai bine.", inverse: false },
    { id: 62, text: "Vorbesc de obicei cu un ton de voce pe care ceilalÈ›i Ã®l considerÄƒ tipic.", inverse: true },
    { id: 63, text: "Prefer ca lucrurile sÄƒ rÄƒmÃ¢nÄƒ la fel zi dupÄƒ zi È™i chiar È™i schimbÄƒrile mici mÄƒ pot deranja.", inverse: false },
    { id: 64, text: "GÄƒsesc cÄƒ este dificil È™i confuz sÄƒ Ã®mi fac prieteni È™i sÄƒ socializez.", inverse: false },
    { id: 65, text: "MÄƒ liniÈ™teÈ™te sÄƒ fac miÈ™cÄƒri repetitive, cum ar fi Ã®nvÃ¢rtirea sau balansarea, cÃ¢nd sunt stresat(Äƒ).", inverse: false },
    { id: 66, text: "Expresii precum â€Ã®È™i poartÄƒ inima pe mÃ¢necÄƒâ€ nu au sens pentru mine.", inverse: false },
    { id: 67, text: "Luminile puternice, mirosurile intense sau zgomotele puternice mÄƒ pot face sÄƒ mÄƒ simt anxios/anxioasÄƒ sau copleÈ™it(Äƒ).", inverse: false },
    { id: 68, text: "Ãmi dau seama cÃ¢nd cineva spune un lucru, dar vrea sÄƒ Ã®nsemne altceva.", inverse: true },
    { id: 69, text: "Ãmi place sÄƒ petrec timp singur(Äƒ) cÃ¢t de mult pot.", inverse: false },
    { id: 70, text: "Ãmi organizez gÃ¢ndurile Ã®ntr-un mod unic, cum ar fi sÄƒ le stivuiesc Ã®n memoria mea pentru a le gÄƒsi mai tÃ¢rziu.", inverse: false },
    { id: 71, text: "Uneori acelaÈ™i sunet poate pÄƒrea foarte tare sau foarte Ã®ncet, chiar dacÄƒ È™tiu cÄƒ nu s-a schimbat.", inverse: false },
    { id: 72, text: "Ãmi place sÄƒ petrec timp mÃ¢ncÃ¢nd È™i vorbind cu familia È™i prietenii mei.", inverse: false },
    { id: 73, text: "Nu suport anumite senzaÈ›ii (ex. mirosuri, texturi, sunete) care nu par sÄƒ deranjeze pe ceilalÈ›i.", inverse: false },
    { id: 74, text: "Nu Ã®mi place sÄƒ fiu Ã®mbrÄƒÈ›iÈ™at(Äƒ) sau atins(Äƒ) decÃ¢t dacÄƒ am fost de acord cu asta.", inverse: false },
    { id: 75, text: "CÃ¢nd merg undeva, trebuie sÄƒ urmez un traseu familiar, altfel mÄƒ pot confunda È™i supÄƒra.", inverse: false },
    { id: 76, text: "Ãmi este greu sÄƒ Ã®nÈ›eleg ce aÈ™teaptÄƒ oamenii de la mine Ã®n situaÈ›iile sociale.", inverse: false },
    { id: 77, text: "Ãmi place sÄƒ am prieteni apropiaÈ›i, deÈ™i poate cÄƒ nu È™tiu Ã®ntotdeauna cum sÄƒ Ã®ntreÈ›in prieteniile.", inverse: false },
    { id: 78, text: "Oamenii Ã®mi spun deseori cÄƒ dau prea multe detalii atunci cÃ¢nd explic ceva.", inverse: true },
    { id: 79, text: "Mi se spune adesea cÄƒ pun Ã®ntrebÄƒri stÃ¢njenitoare sau incomode.", inverse: false },
    { id: 80, text: "Am tendinÈ›a sÄƒ arÄƒt greÈ™elile altora, chiar dacÄƒ nu este necesar.", inverse: false }
];

// RAADS-R Categories according to the paper page 1083
const RAADS_R_CATEGORIES = {
    // Social Relatedness - 39 questions
    socialRelatedness: [1, 6, 8, 11, 14, 17, 18, 25, 37, 38, 3, 5, 12, 28, 39,
                       44, 45, 76, 79, 80, 20, 21, 22, 23, 26, 31, 43, 47, 48,
                       53, 54, 55, 60, 61, 64, 68, 69, 72, 77],

    // Language - 7 questions
    language: [2, 7, 27, 35, 58, 66, 15],

    // Sensory Motor - 20 questions
    sensoryMotor: [10, 19, 4, 33, 34, 36, 46, 71, 16, 29, 42, 49, 51, 57, 59,
                   62, 65, 67, 73, 74],

    // Circumscribed Interests - 14 questions
    circumscribedInterests: [9, 13, 24, 30, 32, 40, 41, 50, 52, 56, 63, 70, 75, 78]
};

// Score thresholds from Table 3, page 1079
const RAADS_R_THRESHOLDS = {
    socialRelatedness: 31,  // 96.0% sensitivity
    circumscribedInterests: 15, // 89.6% sensitivity
    sensoryMotor: 16, // 85.1% sensitivity
    language: 4, // 88.6% sensitivity
    total: 65  // 97% sensitivity, 100% specificity
};

// Normative questions that use inverse scoring (marked with * in paper)
const INVERSE_SCORING_QUESTIONS = [1, 6, 11, 18, 23, 26, 33, 37, 43, 47, 48, 53, 58, 62, 68, 72, 77];

// Maximum possible scores based on number of questions per category * 3 points
const MAX_SCORES = {
    language: 21,           // 7 questions * 3 points
    socialRelatedness: 117, // 39 questions * 3 points
    sensoryMotor: 60,      // 20 questions * 3 points
    circumscribedInterests: 42,  // 14 questions * 3 points
    total: 240             // 80 questions * 3 points
};

/**
 * Find questions that might be counted in multiple categories
 * This is a validation function to ensure proper category assignments
 */
function findDuplicateQuestionCounts() {
    const questionCounts = {};
    const duplicates = [];

    // Count occurrences of each question across categories
    Object.entries(RAADS_R_CATEGORIES).forEach(([category, questions]) => {
        questions.forEach(questionId => {
            if (!questionCounts[questionId]) {
                questionCounts[questionId] = [];
            }
            questionCounts[questionId].push(category);
        });
    });

    // Check for questions appearing in multiple categories
    Object.entries(questionCounts).forEach(([questionId, categories]) => {
        if (categories.length > 1) {
            duplicates.push({
                questionId: parseInt(questionId),
                categories: categories,
                message: `Question ${questionId} appears in multiple categories: ${categories.join(', ')}`
            });
        }
    });

    // Check for missing questions (1-80)
    const allQuestions = Object.values(RAADS_R_CATEGORIES).flat();
    const missingQuestions = [];
    for (let i = 1; i <= 80; i++) {
        if (!allQuestions.includes(i)) {
            missingQuestions.push(i);
        }
    }

    return {
        duplicates,
        missingQuestions,
        valid: duplicates.length === 0 && missingQuestions.length === 0
    };
}

/**
 * Calculate subscores and total score according to RAADS-R specifications
 * Based on scoring instructions from Appendix 2, page 1088
 */
function calculateSubscores() {
    // First validate category assignments
    const categoryValidation = findDuplicateQuestionCounts();
    if (!categoryValidation.valid) {
        console.warn('Category assignment issues detected:', categoryValidation);
    }

    // Initialize subscores
    const subscores = {
        language: 0,
        socialRelatedness: 0,
        sensoryMotor: 0,
        circumscribedInterests: 0
    };

    // Track scoring details for validation
    const scoringLog = [];

    // Calculate scores for each category
    Object.entries(RAADS_R_CATEGORIES).forEach(([category, questionIds]) => {
        questionIds.forEach(id => {
            const selected = document.querySelector(`input[name="question_${id}"]:checked`);
            if (selected) {
                let score = parseInt(selected.value);
                const isInverse = INVERSE_SCORING_QUESTIONS.includes(id);

                // Apply inverse scoring if needed
                if (isInverse) {
                    score = 3 - score;
                }

                subscores[category] += score;

                // Log scoring details
                scoringLog.push({
                    questionId: id,
                    category: category,
                    rawValue: parseInt(selected.value),
                    inverseScoring: isInverse,
                    finalScore: score
                });
            }
        });
    });

    // Calculate total score
    const totalScore = Object.values(subscores).reduce((sum, score) => sum + score, 0);

    // Validate scores against maximums
    Object.entries(subscores).forEach(([category, score]) => {
        if (score > MAX_SCORES[category]) {
            console.error(`Invalid score for ${category}: ${score} exceeds maximum possible ${MAX_SCORES[category]}`);
        }
    });

    if (totalScore > MAX_SCORES.total) {
        console.error(`Invalid total score: ${totalScore} exceeds maximum possible ${MAX_SCORES.total}`);
    }

    // Determine if scores meet diagnostic thresholds
    const diagnosticIndicators = {
        meetsThreshold: totalScore >= RAADS_R_THRESHOLDS.total,
        categoryThresholds: {
            socialRelatedness: subscores.socialRelatedness >= RAADS_R_THRESHOLDS.socialRelatedness,
            circumscribedInterests: subscores.circumscribedInterests >= RAADS_R_THRESHOLDS.circumscribedInterests,
            language: subscores.language >= RAADS_R_THRESHOLDS.language,
            sensoryMotor: subscores.sensoryMotor >= RAADS_R_THRESHOLDS.sensoryMotor
        }
    };

    return {
        subscores,
        totalScore,
        diagnosticIndicators,
        scoringLog,
        validation: {
            categoryAssignments: categoryValidation,
            scoresValid: totalScore <= MAX_SCORES.total &&
                        Object.entries(subscores).every(([cat, score]) => score <= MAX_SCORES[cat])
        }
    };
}

// Function to get interpretation based on official RAADS-R criteria
function getInterpretation(score) {
    if (score <= 65) {
        return 'Sub pragul pentru autism (scor < 65)';
    } else if (score <= 89) {
        return 'Posibil autism (scor Ã®ntre 65-89)';
    } else if (score <= 130) {
        return 'Probabil autism (scor Ã®ntre 90-130)';
    } else {
        return 'Foarte probabil autism (scor > 130)';
    }
}

// Function to get detailed category interpretation
function getCategoryInterpretation(category, score) {
    const threshold = RAADS_R_THRESHOLDS[category];
    if (score >= threshold) {
        return `Peste pragul diagnostic (${threshold})`;
    } else {
        return `Sub pragul diagnostic (${threshold})`;
    }
}

const form = document.getElementById('raadsrForm');
const resultDiv = document.getElementById('result');
const errorDiv = document.getElementById('error');
const errorBelowDiv = document.getElementById('errorBelow');
const submitBtn = document.getElementById('submitBtn');

// Buttons appearing after submit
const exportBtn = document.getElementById('exportBtn');
const restartBtn = document.getElementById('restartBtn');

// Start test button at the top
const startBtn = document.getElementById('start-test');

// Share button
const shareBtn = document.getElementById('shareBtn');

// Form generation with Bootstrap classes with enhanced accessibility
questions.forEach((question, index) => {
    const questionDiv = document.createElement('div');
    questionDiv.classList.add('question', 'mb-4');
    questionDiv.setAttribute('role', 'group');
    questionDiv.setAttribute('aria-labelledby', `question-${question.id}-label`);
    questionDiv.setAttribute('data-question-number', question.id);

    // Question label container
    const questionLabel = document.createElement('div');
    questionLabel.id = `question-${question.id}-label`;
    questionLabel.classList.add('question-text');
    questionLabel.innerHTML = `${question.id}. ${question.text}`;

    // Add inverse scoring indicator for screen readers
    if (INVERSE_SCORING_QUESTIONS.includes(question.id)) {
        const inverseNote = document.createElement('span');
        inverseNote.classList.add('sr-only');
        inverseNote.innerHTML = ' (Ãntrebare cu scorare inversÄƒ)';
        questionLabel.appendChild(inverseNote);
    }

    questionDiv.appendChild(questionLabel);

    // Create fieldset for radio buttons
    const fieldset = document.createElement('fieldset');
    fieldset.classList.add('options');

    // Add legend for screen readers
    const legend = document.createElement('legend');
    legend.classList.add('sr-only');
    legend.innerHTML = `OpÈ›iuni pentru <b>Ã®ntrebarea ${question.id}</b>`;
    fieldset.appendChild(legend);

    const options = [
        {
            label: "AdevÄƒrat acum È™i cÃ¢nd eram mic(Äƒ)",
            value: "3",
            description: "SelectaÈ›i dacÄƒ afirmaÈ›ia este adevÄƒratÄƒ atÃ¢t Ã®n prezent cÃ¢t È™i Ã®n trecut"
        },
        {
            label: "AdevÄƒrat doar acum",
            value: "2",
            description: "SelectaÈ›i dacÄƒ afirmaÈ›ia este adevÄƒratÄƒ doar Ã®n prezent"
        },
        {
            label: "AdevÄƒrat doar cÃ¢nd aveam sub 16 ani",
            value: "1",
            description: "SelectaÈ›i dacÄƒ afirmaÈ›ia era adevÄƒratÄƒ doar Ã®n copilÄƒrie"
        },
        {
            label: "NiciodatÄƒ adevÄƒrat",
            value: "0",
            description: "SelectaÈ›i dacÄƒ afirmaÈ›ia nu a fost niciodatÄƒ adevÄƒratÄƒ"
        }
    ];

    options.forEach((option, optionIndex) => {
        const label = document.createElement('label');
        label.classList.add('form-check');
        label.setAttribute('for', `q${question.id}-opt${optionIndex}`);

        const input = document.createElement('input');
        input.type = 'radio';
        input.id = `q${question.id}-opt${optionIndex}`;
        input.name = `question_${question.id}`;
        input.value = option.value;
        input.classList.add('form-check-input');
        input.setAttribute('aria-describedby', `q${question.id}-opt${optionIndex}-desc`);

        const span = document.createElement('span');
        span.classList.add('form-check-label');
        span.innerHTML = option.label;

        // Add description for screen readers
        const description = document.createElement('span');
        description.id = `q${question.id}-opt${optionIndex}-desc`;
        description.classList.add('sr-only');
        description.innerHTML = option.description;

        label.appendChild(input);
        label.appendChild(span);
        label.appendChild(description);
        fieldset.appendChild(label);
    });

    questionDiv.appendChild(fieldset);

    // Add help button
    const helpButton = document.createElement('button');
    helpButton.type = 'button';
    helpButton.classList.add('help-button', 'btn', 'btn-link', 'mt-2');
    helpButton.innerHTML = '<i class="fas fa-question-circle"></i> Ajutor pentru aceastÄƒ Ã®ntrebare';
    helpButton.setAttribute('aria-expanded', 'false');
    helpButton.setAttribute('aria-controls', `help-${question.id}`);

    const helpContent = document.createElement('div');
    helpContent.id = `help-${question.id}`;
    helpContent.classList.add('help-content');
    helpContent.setAttribute('hidden', '');
    helpContent.innerHTML = `
        <div class="alert alert-info mt-2">
            <p>SelectaÈ›i opÈ›iunea care descrie cel mai bine experienÈ›a dumneavoastrÄƒ.</p>
            <p>PuteÈ›i naviga cu tastele sÄƒgeÈ›i sus/jos Ã®ntre opÈ›iuni sau Tab Ã®ntre Ã®ntrebÄƒri.</p>
        </div>
    `;

    questionDiv.appendChild(helpButton);
    questionDiv.appendChild(helpContent);

    form.appendChild(questionDiv);
});

// Function to create visual score component
const createScoreVisual = function (label, score, threshold, maxScore) {
    const { percentage, thresholdPercentage, color } = getScoreDetails(score, threshold, maxScore);

    return `
        <div class="score-component mb-4">
            <div class="d-flex justify-content-between align-items-center mb-2">
                <div class="score-label fw-bold">${label}</div>
                <div class="score-value">
                    <span class="current-score">${score}</span>
                    <span class="text-muted">/ ${maxScore}</span>
                </div>
            </div>
            <div class="progress" style="height: 20px; background-color: #e9ecef; position: relative;">
                <!-- Threshold marker -->
                <div class="threshold-marker" style="
                    position: absolute;
                    left: ${thresholdPercentage}%;
                    height: 100%;
                    width: 2px;
                    background-color: #000;
                    z-index: 2;
                "></div>
                <div class="progress-bar" role="progressbar"
                    style="width: ${percentage}%; background-color: ${color};"
                    aria-valuenow="${percentage}"
                    aria-valuemin="0"
                    aria-valuemax="100">
                </div>
            </div>
            <div class="d-flex justify-content-between mt-1">
                <small class="text-muted">0</small>
                <small class="text-muted fw-bold">Prag: ${threshold}</small>
                <small class="text-muted">${maxScore}</small>
            </div>
        </div>
    `;
}

// Helper function to calculate score percentage and get appropriate color
function getScoreDetails(score, threshold, maxScore) {
    const percentage = (score / maxScore) * 100;
    const thresholdPercentage = (threshold / maxScore) * 100;

    // Color selection based on score relative to threshold
    let color;
    if (score < threshold) {
        color = '#4CAF50'; // Green
    } else if (score < threshold * 1.5) {
        color = '#FFC107'; // Yellow
    } else {
        color = '#F44336'; // Red
    }

    return { percentage, thresholdPercentage, color };
}

// Add validation function to catch scoring issues
function validateScore(score, subscores) {
    let issues = [];

    // Check for exceeding maximum scores
    Object.entries(MAX_SCORES).forEach(([category, maxScore]) => {
        const currentScore = category === 'total' ? score : subscores[category];
        if (currentScore > maxScore) {
            issues.push(`${category}: ${currentScore} exceeds maximum possible score of ${maxScore}`);
        }
    });

    return {
        valid: issues.length === 0,
        issues: issues
    };
}

// Function to get interpretation based on score
function getInterpretation(score) {
    if (score <= 25) return 'Nu eÈ™ti autist(Äƒ).';
    if (score <= 50) return 'Ai unele trÄƒsÄƒturi autiste, dar probabil nu eÈ™ti autist(Äƒ).';
    if (score <= 65) return 'Scorul este aproape de pragul minim pentru autism.';
    if (score <= 90) return 'IndicaÈ›ii de autism, deÈ™i È™i non-autiÈ™tii pot obÈ›ine scoruri atÃ¢t de mari.';
    if (score <= 130) return 'Scor Ã®n intervalul mediu pentru persoanele autiste.';
    if (score <= 160) return 'Dovezi foarte solide pentru autism.';
    return 'Scor foarte ridicat, specific persoanelor autiste.';
}

const getProgressMessage = function(percentage, answered) {
    if (percentage === 0) {
        return 'ğŸš€ Hai sÄƒ Ã®ncepem! Primul pas este cel mai important! ğŸ’«';
    }

    if (percentage <= 10) {
        return 'ğŸŒŸ Minunat Ã®nceput! Pas cu pas, vei reuÈ™i! ğŸ’ª';
    }

    if (percentage <= 20) {
        return 'ğŸ¯ Ai prins ritmul! Continui excelent! â­';
    }

    if (percentage <= 30) {
        return `ğŸŒˆ Super progres! Ai completat deja ${answered} Ã®ntrebÄƒri! ğŸ‰`;
    }

    if (percentage <= 40) {
        return 'ğŸ’« Te descurci extraordinar! EÈ™ti pe drumul cel bun! ğŸˆ';
    }

    if (percentage <= 50) {
        return 'ğŸŠ WOW! Ai ajuns la jumÄƒtate! EÈ™ti fantastic(Äƒ)! ğŸŒŸ';
    }

    if (percentage <= 60) {
        return 'âš¡ Impresionant! Mai puÈ›in de jumÄƒtate rÄƒmas! ğŸ”¥';
    }

    if (percentage <= 70) {
        return 'ğŸ¯ Extraordinar! Continui sÄƒ strÄƒluceÈ™ti! âœ¨';
    }

    if (percentage <= 80) {
        return 'ğŸš€ EÈ™ti pe ultima sutÄƒ de metri! Aproape acolo! ğŸ’«';
    }

    if (percentage <= 90) {
        return 'ğŸŒŸ Fantastic! Mai ai foarte puÈ›in! EÈ™ti aproape gata! ğŸ‰';
    }

    if (percentage < 100) {
        return 'âœ¨ Ultima porÈ›iune! CÃ¢teva Ã®ntrebÄƒri È™i ai terminat! ğŸ¯';
    }

    // 100%
    return `
        ğŸ‰ FELICITÄ‚RI! ğŸ‰
        <br/>
        <span style="font-size: 0.9em">Ai completat tot testul! EÈ™ti minunat(Äƒ)! ğŸŒŸ</span>
        <br/>
        <span style="font-size: 0.85em; color: #666">ApasÄƒ pe butonul albastru <b>CALCULEAZÄ‚ SCORUL</b> pentru rezultate! ğŸ¯</span>
    `;
};

// Progress tracking function
function initProgressTracking() {
    // Create and insert progress bar
    const progressHtml = `
        <div class="progress-container">
            <div class="progress-stats">
                <span class="questions-completed"><b>0</b> din <b>${questions.length}</b> Ã®ntrebÄƒri</span>
                <span class="time-estimate">Timp rÄƒmas estimat: <b>30 minute</b></span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
            <div class="progress-message">Hai sÄƒ Ã®ncepem! Primul pas este cel mai important.</div>
        </div>
    `;
    document.body.insertAdjacentHTML('afterbegin', progressHtml);

    // Cache DOM elements
    const progressFill = document.querySelector('.progress-fill');
    const questionsCompleted = document.querySelector('.questions-completed');
    const timeEstimate = document.querySelector('.time-estimate');
    const progressMessage = document.querySelector('.progress-message');

    // Scroll monitoring for .test-actual-container
    const testContainer = document.querySelector('.test-actual-container');
    const progressContainer = document.querySelector('.progress-container');

    // Helper function to check if we're within the test section
    function isInTestSection() {
        if (!testContainer) return false;

        const testRect = testContainer.getBoundingClientRect();
        const testStart = testContainer.offsetTop;
        const testEnd = testStart + testContainer.offsetHeight;
        const currentScroll = window.scrollY;

        // Consider the section "active" when:
        // 1. We've scrolled past its start (accounting for progress bar height)
        // 2. We haven't scrolled past its end
        return currentScroll >= testStart && currentScroll <= testEnd;
    }

    // Simplified scroll handler - no direction checking
    function handleScroll() {
        if (isInTestSection()) {
            progressContainer.classList.add('visible');
        } else {
            progressContainer.classList.remove('visible');
        }
    }

    // Helper function to check if we're within the test section
    function isInTestSection() {
        if (!testContainer) return false;

        const testRect = testContainer.getBoundingClientRect();
        const testStart = testContainer.offsetTop;
        const testEnd = testStart + testContainer.offsetHeight;
        const currentScroll = window.scrollY;

        // Consider the section "active" when:
        // 1. We've scrolled past its start (accounting for progress bar height)
        // 2. We haven't scrolled past its end
        return currentScroll >= testStart && currentScroll <= testEnd;
    }

    // Simplified scroll handler - no direction checking
    function handleScroll() {
        if (isInTestSection()) {
            progressContainer.classList.add('visible');
        } else {
            progressContainer.classList.remove('visible');
        }
    }

    // Monitor scroll position
    window.addEventListener('scroll', handleScroll, { passive: true });

    // Initial check
    handleScroll();

    // Handle window resize
    window.addEventListener('resize', handleScroll, { passive: true });

    let lastScrollTop = 0;

    function isElementInViewport(el) {
        const rect = el.getBoundingClientRect();
        return (
            rect.top <= 0 &&
            rect.bottom >= 0
        );
    }

    // Monitor scroll position
    // window.addEventListener('scroll', () => {
    //     const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

    //     // Check if test container is in viewport
    //     if (testContainer) {
    //         const testRect = testContainer.getBoundingClientRect();
    //         const isTestVisible = testRect.top < window.innerHeight && testRect.bottom > 0;

    //         if (isTestVisible) {
    //             // Show progress bar when scrolling up or at top of test section
    //             if (scrollTop < lastScrollTop || scrollTop <= testContainer.offsetTop) {
    //                 progressContainer.classList.add('visible');
    //             } else {
    //                 // Hide when scrolling down
    //                 progressContainer.classList.remove('visible');
    //             }
    //         } else {
    //             // Hide when test section is not visible
    //             progressContainer.classList.remove('visible');
    //         }
    //     }

    //     lastScrollTop = scrollTop;
    // });

    // Update progress function
    function updateProgress() {
        const answered = document.querySelectorAll('input[type="radio"]:checked').length;
        const total = questions.length;
        const percentage = (answered / total) * 100;

        // Update progress bar
        progressFill.style.width = percentage + '%';

        // Update stats
        questionsCompleted.innerHTML = `<b>${answered}</b> din <b>${total}</b> Ã®ntrebÄƒri`;

        // Update message with animation
        progressMessage.classList.add('updating');
        progressMessage.innerHTML = getProgressMessage(percentage, answered);

        // Remove animation class after it completes
        setTimeout(() => {
            progressMessage.classList.remove('updating');
        }, 300);

        // Update time estimate
        const remainingQuestions = total - answered;
        const estimatedMinutes = Math.max(Math.ceil(remainingQuestions * 0.375), 1);
        timeEstimate.innerHTML = `Timp rÄƒmas estimat: <b>${estimatedMinutes} minute</b>`;
    }

    // Enhanced radio button change handler
    form.addEventListener('change', (e) => {
        if (e.target.type === 'radio') {
            const currentQuestion = e.target.closest('.question');
            currentQuestion.classList.add('completed');

            updateProgress();

            // Find and scroll to next unanswered question
            const nextUnanswered = Array.from(document.querySelectorAll('.question:not(.completed)'))
                .find(q => !q.querySelector('input[type="radio"]:checked'));

            if (nextUnanswered) {
                const offset = document.querySelector('.progress-container').offsetHeight + 20;
                const targetPosition = nextUnanswered.getBoundingClientRect().top + window.pageYOffset - offset;

                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });

                // Update current question highlighting
                document.querySelectorAll('.question').forEach(q => q.classList.remove('current'));
                nextUnanswered.classList.add('current');
            }
        }
    });

    // Initialize progress
    updateProgress();

    return {
        update: handleScroll,  // Expose update function for external calls
        destroy: () => {
            window.removeEventListener('scroll', handleScroll);
            window.removeEventListener('resize', handleScroll);
        }
    };
}

function scrollToQuestion(questionElement) {
    const progressContainer = document.querySelector('.progress-container');
    const progressHeight = progressContainer.classList.contains('visible') ?
                          progressContainer.offsetHeight : 0;

    const targetPosition = questionElement.getBoundingClientRect().top +
                          window.pageYOffset -
                          progressHeight - 20; // Additional padding

    window.scrollTo({
        top: targetPosition,
        behavior: 'smooth'
    });
}

// Add intersection observer to monitor test section visibility
function initTestSectionObserver() {
    const progressContainer = document.querySelector('.progress-container');

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                // Only show progress bar if we're at the top of the test section
                if (window.scrollY <= entry.target.offsetTop) {
                    progressContainer.classList.add('visible');
                }
            } else {
                progressContainer.classList.remove('visible');
            }
        });
    }, {
        threshold: 0,
        rootMargin: '-50px 0px 0px 0px'  // Adjust based on your needs
    });

    const testContainer = document.querySelector('.test-actual-container');
    if (testContainer) {
        observer.observe(testContainer);
    }
}

// Initialize everything
function initProgressTracker() {
    initProgressTracking();
    initTestSectionObserver();
}

// Initialize when DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initProgressTracking);
} else {
    initProgressTracker();
}

// Add email button next to the export button
const emailBtn = document.createElement('button');
emailBtn.id = 'emailBtn';
emailBtn.className = 'btn btn-primary btn-lg w-100 mb-4 action-btn';
emailBtn.style.display = 'none';
emailBtn.innerHTML = '<i class="fas fa-envelope"></i> Trimite pe Email';

// Insert email button after export button
exportBtn.parentNode.insertBefore(emailBtn, exportBtn.nextSibling);

// Submit button click handler
submitBtn.addEventListener('click', (e) => {
    e.preventDefault();

    // Reset error states
    errorDiv.style.display = 'none';
    errorBelowDiv.style.display = 'none';
    errorDiv.innerHTML = '';
    errorBelowDiv.innerHTML = '';

    // Clear previous highlights
    document.querySelectorAll('.highlight-unanswered').forEach(el => {
        el.classList.remove('highlight-unanswered');
    });

    // Find unanswered questions
    let unanswered = [];
    questions.forEach(question => {
        const selected = document.querySelector(`input[name="question_${question.id}"]:checked`);
        if (!selected) {
            unanswered.push(question.id);
            const questionDiv = document.querySelector(`input[name="question_${question.id}"]`)
                .closest('.question');
            questionDiv.classList.add('highlight-unanswered');
        }
    });

    // Handle unanswered questions
    if (unanswered.length > 0) {
        const errorMessage = `Te rog sÄƒ rÄƒspunzi la toate Ã®ntrebÄƒrile. ÃntrebÄƒrile fÄƒrÄƒ rÄƒspuns: ${unanswered.join(', ')}`;
        errorDiv.innerHTML = errorMessage;
        errorBelowDiv.innerHTML = errorMessage;
        errorDiv.style.display = 'block';
        errorBelowDiv.style.display = 'block';
        resultDiv.style.display = 'none';

        // Find and scroll to first unanswered question
        const firstUnanswered = document.querySelector('.highlight-unanswered');
        if (firstUnanswered) {
            const progressContainer = document.querySelector('.progress-container');
            const offset = progressContainer ? progressContainer.offsetHeight + 20 : 20;

            window.scrollTo({
                top: firstUnanswered.getBoundingClientRect().top + window.pageYOffset - offset,
                behavior: 'smooth'
            });
        }
        return;
    }

    // Calculate scores
    const results = calculateSubscores(questions);
    const { subscores, totalScore, diagnosticIndicators } = results;
    const interpretation = getInterpretation(totalScore);

    // Create enhanced results HTML
    resultDiv.innerHTML = `
        <div class="card mb-4 shadow-sm">
            <div class="card-header bg-white py-3">
                <h2 class="card-title text-center mb-0 fw-bold">Rezultate Test RAADS-R</h2>
            </div>
            <div class="card-body p-4">
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="total-score-section text-center p-4 mb-4" style="background-color: #f8f9fa; border-radius: 8px;">
                            <h3 class="h4 mb-3">Scor Total</h3>
                            <div class="display-4 mb-2">${totalScore}</div>
                            <p class="mb-0 text-muted">${interpretation}</p>
                        </div>
                    </div>
                </div>

                <h4 class="mb-4 fw-bold">Scoruri pe categorii</h4>

                <!-- Visual score components -->
                ${createScoreVisual('Limbaj', subscores.language, RAADS_R_THRESHOLDS.language, 21)}
                ${createScoreVisual('RelaÈ›ionare socialÄƒ', subscores.socialRelatedness, RAADS_R_THRESHOLDS.socialRelatedness, 117)}
                ${createScoreVisual('Senzorial-motor', subscores.sensoryMotor, RAADS_R_THRESHOLDS.sensoryMotor, 60)}
                ${createScoreVisual('Interese circumscrise', subscores.circumscribedInterests, RAADS_R_THRESHOLDS.circumscribedInterests, 42)}

                <!-- Category Interpretations -->
                <div class="mt-4 pt-3 border-top">
                    <div class="category-interpretations">
                        <h5 class="mb-3">Interpretare pe categorii:</h5>
                        <ul class="list-unstyled">
                            <li class="mb-2">Limbaj: ${getCategoryInterpretation('language', subscores.language)}</li>
                            <li class="mb-2">RelaÈ›ionare socialÄƒ: ${getCategoryInterpretation('socialRelatedness', subscores.socialRelatedness)}</li>
                            <li class="mb-2">Senzorial-motor: ${getCategoryInterpretation('sensoryMotor', subscores.sensoryMotor)}</li>
                            <li class="mb-2">Interese circumscrise: ${getCategoryInterpretation('circumscribedInterests', subscores.circumscribedInterests)}</li>
                        </ul>
                    </div>
                </div>

                <!-- Legend -->
                <div class="mt-4 pt-3 border-top">
                    <div class="d-flex align-items-center mb-3">
                        <div style="width: 12px; height: 12px; background-color: #4CAF50; border-radius: 50%; margin-right: 8px;"></div>
                        <small class="text-muted">Sub prag</small>

                        <div style="width: 12px; height: 12px; background-color: #FFC107; border-radius: 50%; margin: 0 8px 0 16px;"></div>
                        <small class="text-muted">Aproape de prag</small>

                        <div style="width: 12px; height: 12px; background-color: #F44336; border-radius: 50%; margin: 0 8px 0 16px;"></div>
                        <small class="text-muted">Peste prag</small>
                    </div>

                    <div class="alert alert-info mb-0">
                        <small>
                            <i class="fas fa-info-circle me-2"></i>
                            Liniile negre verticale indicÄƒ pragurile pentru fiecare categorie.
                        </small>
                    </div>
                </div>
            </div>
        </div>
    `;

    // Update UI state
    resultDiv.style.display = 'block';
    submitBtn.style.display = 'none';
    exportBtn.style.display = 'block';
    restartBtn.style.display = 'block';
    shareBtn.style.display = 'block';

    // Hide progress bar
    const progressContainer = document.querySelector('.progress-container');
    if (progressContainer) {
        // First remove 'visible' class with transition
        progressContainer.classList.remove('visible');

        // After transition, force hide
        setTimeout(() => {
            progressContainer.style.display = 'none';
        }, 300); // Match this with your CSS transition time
    }

    // Update the padding of test container to prevent layout jump
    const testContainer = document.querySelector('.test-actual-container');
    if (testContainer) {
        testContainer.style.paddingTop = '20px'; // Reset to default padding
    }

    // Disable all radio inputs
    document.querySelectorAll('input[type="radio"]').forEach(radio => {
        radio.disabled = true;
    });

    emailBtn.style.display = 'block';

    // Scroll to results
    setTimeout(() => {
        const resultElement = document.getElementById('result');
        if (resultElement) {
            const headerOffset = 20;
            const elementPosition = resultElement.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

            window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
            });
        }
    }, 100);
});

// Email button click handler
emailBtn.addEventListener('click', function() {
    emailModal.show();

// Send email handler
document.getElementById('sendEmailBtn').addEventListener('click', async function() {
    const emailForm = document.getElementById('emailForm');
    const recipientEmail = document.getElementById('recipientEmail').value;
    const gdprConsent = document.getElementById('gdprConsent').checked;
    const sendEmailBtn = this;

    // Validate form
    if (!emailForm.checkValidity() || !gdprConsent) {
        emailForm.reportValidity();
        return;
    }

    try {
        // Show loading state
        sendEmailBtn.disabled = true;
        sendEmailBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>Se trimite...';

        // Create temporary container for PDF generation
        const container = document.createElement('div');
        container.style.cssText = `
            width: 595px;
            background: white;
            position: fixed;
            left: -9999px;
            top: 0;
            padding: 40px;
            z-index: -9999;
            font-family: Arial, sans-serif;
            font-size: 11px;
            color: black;
            box-sizing: border-box;
        `;
        document.body.appendChild(container);

        try {
            // Calculate scores
            const results = calculateSubscores(questions);
            const { totalScore } = results;
            const interpretation = getInterpretation(totalScore);

            // Generate PDF options
            const opt = {
                margin: [30, 20, 30, 20],
                filename: 'rezultate_test_raads_r.pdf',
                image: { type: 'jpeg', quality: 1 },
                html2canvas: {
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#FFFFFF',
                    width: 595
                },
                jsPDF: {
                    unit: 'pt',
                    format: 'a4',
                    orientation: 'portrait',
                    putOnlyUsedFonts: true,
                    compress: true
                },
                pagebreak: {
                    mode: ['avoid-all', 'css', 'legacy']
                }
            };

            // Generate PDF and get as blob
            const pdfBlob = await html2pdf().set(opt).from(container).outputPdf('blob');

            // Convert blob to base64
            const base64Data = await new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = () => reject(new Error('Failed to read PDF file'));
                reader.readAsDataURL(pdfBlob);
            });

            // Prepare data for sending
            const requestData = {
                email: recipientEmail,
                score: totalScore,
                interpretation: interpretation,
                pdfData: base64Data
            };

            console.log('Sending email request with data:', {
                email: requestData.email,
                score: requestData.score,
                interpretation: requestData.interpretation,
                pdfDataLength: requestData.pdfData.length
            });

            // Send request to backend
            const response = await fetch('/send-results-email.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(requestData)
            });

            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(errorData.error || 'Failed to send email');
            }

            const result = await response.json();

            if (result.success) {
                // Show success message
                emailModal.hide();
                alert('Email-ul a fost trimis cu succes!');
            } else {
                throw new Error(result.error || 'Failed to send email');
            }

        } finally {
            // Clean up temporary container
            if (container && container.parentNode) {
                container.parentNode.removeChild(container);
            }
        }

    } catch (error) {
        console.error('Error sending email:', error);
        alert('A apÄƒrut o eroare la trimiterea email-ului: ' + error.message);
    } finally {
        // Reset button state
        sendEmailBtn.disabled = false;
        sendEmailBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Trimite';
    }
});





});


startBtn.addEventListener('click', (e) => {
    e.preventDefault();

    // Smooth scroll to disclaimer section
    const disclaimerSection = document.getElementById('first-disclaimer');
    disclaimerSection.scrollIntoView({
        behavior: 'smooth',
        block: 'start'
    });
});

// First add this helper function at the global scope
function formatScore(score) {
    return typeof score === 'number' && !isNaN(score) ? score : 0;
}

// exportBtn.addEventListener('click', () => {
//     // Create a temporary container
//     const container = document.createElement('div');
//     container.style.visibility = 'hidden';
//     container.style.position = 'absolute';
//     container.style.left = '-9999px';
//     document.body.appendChild(container);

//     // Calculate scores - use the proper structure from calculateSubscores
//     const { subscores, totalScore, diagnosticIndicators } = calculateSubscores(questions);

//     // Format all scores to ensure we have valid numbers
//     const formattedScores = {
//         language: formatScore(subscores.language),
//         socialRelatedness: formatScore(subscores.socialRelatedness),
//         sensoryMotor: formatScore(subscores.sensoryMotor),
//         circumscribedInterests: formatScore(subscores.circumscribedInterests)
//     };

//     const formattedTotalScore = formatScore(totalScore);
//     const interpretation = getInterpretation(formattedTotalScore);

//     // Create stylized content for PDF
//     const content = document.createElement('div');
//     content.style.cssText = `
//         font-family: Arial, sans-serif;
//         color: black;
//         font-size: 12px;
//         line-height: 1.4;
//         padding: 20px;
//         background: white;
//     `;

//     // Define score categories with their properties
//     const scoreCategories = {
//         'Limbaj': {
//             score: formattedScores.language,
//             threshold: RAADS_R_THRESHOLDS.language,
//             max: MAX_SCORES.language
//         },
//         'RelaÈ›ionare socialÄƒ': {
//             score: formattedScores.socialRelatedness,
//             threshold: RAADS_R_THRESHOLDS.socialRelatedness,
//             max: MAX_SCORES.socialRelatedness
//         },
//         'Senzorial-motor': {
//             score: formattedScores.sensoryMotor,
//             threshold: RAADS_R_THRESHOLDS.sensoryMotor,
//             max: MAX_SCORES.sensoryMotor
//         },
//         'Interese circumscrise': {
//             score: formattedScores.circumscribedInterests,
//             threshold: RAADS_R_THRESHOLDS.circumscribedInterests,
//             max: MAX_SCORES.circumscribedInterests
//         }
//     };

//     // Create the content HTML
//     content.innerHTML = `
//         <h1 style="font-size: 24px; text-align: center; margin-bottom: 20px;">Rezultate Test RAADS-R</h1>
//         <div style="text-align: center; padding: 20px; background-color: #f8f9fa; margin-bottom: 30px;">
//             <h2 style="font-size: 20px; margin-bottom: 10px;">Scor Total: ${formattedTotalScore}</h2>
//             <p style="color: #666;">${interpretation}</p>
//         </div>

//         <h3 style="font-size: 18px; margin-bottom: 20px;">Scoruri pe categorii:</h3>

//         <!-- Visual score components styled for PDF -->
//         ${Object.entries(scoreCategories).map(([category, scores]) => {
//             const percentage = Math.min(Math.max((scores.score / scores.max) * 100, 0), 100);
//             const color = scores.score < scores.threshold ? '#4CAF50' :
//                          scores.score < scores.threshold * 1.5 ? '#FFC107' : '#F44336';

//             return `
//                 <div style="margin-bottom: 25px;">
//                     <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
//                         <strong>${category}</strong>
//                         <span>${scores.score} / ${scores.max}</span>
//                     </div>
//                     <div style="width: 100%; height: 20px; background-color: #e9ecef; position: relative;">
//                         <div style="width: ${percentage}%; height: 100%; background-color: ${color};"></div>
//                         <div style="position: absolute; left: ${(scores.threshold/scores.max)*100}%; top: 0; height: 100%; width: 2px; background-color: black;"></div>
//                     </div>
//                     <div style="display: flex; justify-content: space-between; margin-top: 5px; color: #666;">
//                         <small>0</small>
//                         <small>Prag: ${scores.threshold}</small>
//                         <small>${scores.max}</small>
//                     </div>
//                 </div>
//             `;
//         }).join('')}

//         <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa;">
//             <strong>LegendÄƒ:</strong><br>
//             <span style="color: #4CAF50;">â– </span> Sub prag &nbsp;&nbsp;
//             <span style="color: #FFC107;">â– </span> Aproape de prag &nbsp;&nbsp;
//             <span style="color: #F44336;">â– </span> Peste prag
//         </div>
//         <br/><br/>
//         <h3 style="font-size: 14px; font-weight: bold; margin-bottom: 15px;">RÄƒspunsuri:</h3>
//     `;

//     // Add questions and answers
//     questions.forEach(question => {
//         const selected = document.querySelector(`input[name="question_${question.id}"]:checked`);
//         if (selected) {
//             const questionDiv = document.createElement('div');
//             questionDiv.style.cssText = 'margin-bottom: 15px; color: black;';

//             const questionText = document.createElement('p');
//             questionText.style.cssText = 'margin-bottom: 5px; font-weight: bold; color: black;';
//             questionText.innerHTML = `${question.id}. ${question.text}`;
//             questionDiv.appendChild(questionText);

//             const answerText = document.createElement('p');
//             answerText.style.cssText = 'margin-left: 15px; color: black;';
//             answerText.innerHTML = `RÄƒspuns: ${selected.closest('label').innerHTML.trim()}`;
//             questionDiv.appendChild(answerText);

//             content.appendChild(questionDiv);
//         }
//     });

//     // Add date of test
//     const dateDiv = document.createElement('div');
//     dateDiv.style.cssText = 'margin-top: 20px; text-align: right; color: #666;';
//     dateDiv.innerHTML = `Data testului: ${new Date().toLocaleDateString('ro-RO')}`;
//     content.appendChild(dateDiv);

//     // Add the content to the container
//     container.appendChild(content);

//     // Configure html2pdf options
//     const opt = {
//         margin: [0.5, 0.5, 0.5, 0.5],
//         filename: 'rezultate_test_raads_r.pdf',
//         image: { type: 'jpeg', quality: 1 },
//         html2canvas: {
//             scale: 2,
//             useCORS: true,
//             logging: false,
//             letterRendering: false,
//             allowTaint: true,
//             backgroundColor: '#ffffff'
//         },
//         jsPDF: {
//             unit: 'in',
//             format: 'a4',
//             orientation: 'portrait',
//             putOnlyUsedFonts: true
//         },
//         pagebreak: { avoid: ['p', 'h1', 'h2', 'h3'] }
//     };

//     // Generate PDF
//     html2pdf()
//         .set(opt)
//         .from(content)
//         .save()
//         .then(() => {
//             // Clean up
//             document.body.removeChild(container);
//         })
//         .catch(error => {
//             console.error('PDF generation failed:', error);
//             document.body.removeChild(container);
//         });
// });

async function generatePDFBlob() {

    const results = calculateSubscores(questions);
    const { subscores, totalScore } = results;

    // Create container with A4 dimensions
    const container = document.createElement('div');
    container.style.cssText = `
        width: 595px; /* A4 width in points */
        background: white;
        position: fixed;
        left: 0;
        top: 0;
        padding: 40px;
        z-index: -9999;
        font-family: Arial, sans-serif;
        font-size: 11px;
        color: black;
        box-sizing: border-box;
    `;
    document.body.appendChild(container);

    const getScoreColor = (score, threshold) => {
        if (score < threshold) return '#4CAF50';
        if (score < threshold * 1.5) return '#FFC107';
        return '#F44336';
    };

    // Clean answer text function
    const cleanAnswerText = (text) => {
        // Remove the explanatory text in parentheses
        return text.split('(')[0].trim();
    };

    const contentHtml = `
        <div style="background: white; color: black; max-width: 515px;">
            <h1 style="font-size: 16px; text-align: center; margin-bottom: 12px; color: black;">
                Rezultate Test RAADS-R
            </h1>

            <div style="text-align: center; background-color: #f8f9fa; padding: 8px; margin: 12px 0; border-radius: 4px;">
                <span style="color: #666; font-size: 10px;">Rezultate generate de</span><br>
                <a href="https://www.testautism.ro" style="color: #2196F3; font-size: 12px; font-weight: bold;">
                    www.testautism.ro
                </a>
            </div>

            <div style="background-color: #fff3cd; border: 1px solid #ffeeba; padding: 10px; margin: 12px 0; border-radius: 4px;">
                <p style="color: #856404; margin: 0; font-size: 10px; line-height: 1.4;">
                    <strong>IMPORTANT:</strong> Acest test este destinat <strong>EXCLUSIV</strong> Ã®n scop informativ È™i
                    <strong>NU</strong> trebuie utilizat ca un instrument de diagnostic. Pentru evaluÄƒri profesionale,
                    vÄƒ recomandÄƒm sÄƒ vizitaÈ›i <a href="https://www.doctoradhd.com" style="color: #856404; font-weight: bold;">www.doctoradhd.com</a>
                </p>
            </div>

            <div style="text-align: center; background-color: #f8f9fa; padding: 12px; margin: 12px 0; border-radius: 4px;">
                <h2 style="font-size: 14px; margin-bottom: 8px; color: black;">Scor Total: ${totalScore}</h2>
                <p style="color: #666; font-size: 11px; line-height: 1.4;">${getInterpretation(totalScore)}</p>
            </div>

            <h3 style="font-size: 13px; margin: 12px 0; color: black;">Scoruri pe categorii:</h3>

            <div style="margin-bottom: 20px;">
                ${Object.entries({
                    'Limbaj': { score: subscores.language, threshold: RAADS_R_THRESHOLDS.language, max: MAX_SCORES.language },
                    'RelaÈ›ionare socialÄƒ': { score: subscores.socialRelatedness, threshold: RAADS_R_THRESHOLDS.socialRelatedness, max: MAX_SCORES.socialRelatedness },
                    'Senzorial-motor': { score: subscores.sensoryMotor, threshold: RAADS_R_THRESHOLDS.sensoryMotor, max: MAX_SCORES.sensoryMotor },
                    'Interese circumscrise': { score: subscores.circumscribedInterests, threshold: RAADS_R_THRESHOLDS.circumscribedInterests, max: MAX_SCORES.circumscribedInterests }
                }).map(([category, data]) => {
                    const percentage = (data.score / data.max) * 100;
                    const color = getScoreColor(data.score, data.threshold);
                    return `
                        <div style="margin-bottom: 16px; background: white;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                <strong style="color: black; font-size: 11px;">${category}</strong>
                                <span style="color: black; font-size: 11px;">${data.score} / ${data.max}</span>
                            </div>
                            <div style="position: relative; height: 16px; background-color: #e9ecef; border-radius: 3px; overflow: hidden;">
                                <div style="position: absolute; left: 0; top: 0; height: 100%; width: ${percentage}%; background-color: ${color};"></div>
                                <div style="position: absolute; left: ${(data.threshold/data.max)*100}%; top: 0; height: 100%; width: 2px; background-color: black;"></div>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-top: 2px; font-size: 9px; color: #666;">
                                <span>0</span>
                                <span>Prag: ${data.threshold}</span>
                                <span>${data.max}</span>
                            </div>
                        </div>
                    `;
                }).join('')}
            </div>

            <div style="margin: 16px 0; padding: 10px; background-color: #f8f9fa; border-radius: 4px;">
                <strong style="color: black; font-size: 11px;">LegendÄƒ:</strong><br>
                <span style="color: #4CAF50;">â– </span> Sub prag &nbsp;&nbsp;
                <span style="color: #FFC107;">â– </span> Aproape de prag &nbsp;&nbsp;
                <span style="color: #F44336;">â– </span> Peste prag
            </div>

            <div style="margin-top: 16px; text-align: right; color: #666; font-size: 9px;">
                Data testului: ${new Date().toLocaleDateString('ro-RO')}
            </div>
        </div>
    `;

    // Set container content
    container.innerHTML = contentHtml;

    var questionIndex = 0;
    // Add questions and answers
    questions.forEach(question => {
        const pageBreak = (questionIndex + 1) % 9 === 0 ? 'page-break-after: always;' : '';

        const selected = document.querySelector(`input[name="question_${question.id}"]:checked`);
        if (selected) {
            const questionDiv = document.createElement('div');
            questionDiv.style.cssText = 'margin-bottom: 30px; color: black; ${pageBreak}';

            const questionText = document.createElement('p');
            questionText.style.cssText = 'margin-bottom: 5px; font-weight: bold; color: black;';
            questionText.innerHTML = `${question.id}. ${question.text}`;
            questionDiv.appendChild(questionText);

            const answerText = document.createElement('p');
            answerText.style.cssText = 'margin-left: 15px; margin-bottom: 20px; color: black;';
            answerText.innerHTML = `RÄƒspuns: ${selected.closest('label').querySelector('.form-check-label').innerHTML.trim()}`;
            questionDiv.appendChild(answerText);

            container.appendChild(questionDiv);
        }

        questionIndex++;
    });


    // Wait for content to be rendered
    await new Promise(resolve => setTimeout(resolve, 300));

    // PDF generation options
    const opt = {
        margin: [25, 20, 25, 20], // [top, right, bottom, left]
        filename: 'rezultate_test_raads_r.pdf',
        image: { type: 'jpeg', quality: 1 },
        html2canvas: {
            scale: 2,
            useCORS: true,
            allowTaint: true,
            backgroundColor: '#FFFFFF',
            width: 595,
            height: container.offsetHeight
        },
        jsPDF: {
            unit: 'pt',
            format: 'a4',
            orientation: 'portrait',
            putOnlyUsedFonts: true,
            compress: true
        },
        pagebreak: {
            mode: ['avoid-all', 'css', 'legacy']
        }
    };

    return await html2pdf().set(opt).from(container).outputPdf('blob');
}

exportBtn.addEventListener('click', async () => {
    exportBtn.disabled = true;
    exportBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>Se genereazÄƒ PDF-ul...';

    try {
        // Generate PDF
        const pdf = await generatePDFBlob();
        const blobUrl = URL.createObjectURL(pdf);

        // Create download link
        const downloadLink = document.createElement('a');
        downloadLink.href = blobUrl;
        downloadLink.download = 'rezultate_test_raads_r.pdf';
        document.body.appendChild(downloadLink);

        // Handle Facebook in-app browser
        if (navigator.userAgent.match(/(FBAN|FBAV)/i)) {
            window.open(blobUrl, '_blank');
        } else {
            downloadLink.click();
        }

        // Cleanup
        setTimeout(() => {
            URL.revokeObjectURL(blobUrl);
            downloadLink.remove();
            container.remove();
        }, 1000);

    } catch (error) {
        console.error('PDF generation failed:', error);
        alert(`A apÄƒrut o eroare la generarea PDF-ului: ${error.message}\nTe rugÄƒm sÄƒ Ã®ncerci din nou.`);
    } finally {
        exportBtn.disabled = false;
        exportBtn.innerHTML = '<i class="fas fa-file-pdf"></i> ExportÄƒ ca PDF';
    }
});

// Create modal for email input
const modalHtml = `
<div class="modal fade" id="emailModal" tabindex="-1" aria-labelledby="emailModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="emailModalLabel">Trimite rezultatele pe email</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="emailForm">
                    <div class="mb-3">
                        <label for="recipientEmail" class="form-label">Adresa de email</label>
                        <input type="email" class="form-control" id="recipientEmail" required
                               placeholder="exemplu@gmail.com">
                        <div class="form-text">Rezultatele vor fi trimise la aceastÄƒ adresÄƒ.</div>
                    </div>
                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" id="gdprConsent" required>
                        <label class="form-check-label" for="gdprConsent">
                            Sunt de acord cu prelucrarea datelor mele personale Ã®n scopul trimiterii rezultatelor pe email.
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">AnuleazÄƒ</button>
                <button type="button" class="btn btn-primary" id="sendEmailBtn">
                    <i class="fas fa-paper-plane"></i> Trimite
                </button>
            </div>
        </div>
    </div>
</div>
`;

// Add modal to body
document.body.insertAdjacentHTML('beforeend', modalHtml);

// Initialize modal
const emailModal = new bootstrap.Modal(document.getElementById('emailModal'));

// Restart button event listener
const restartWarningModal = new bootstrap.Modal(document.getElementById('restartWarningModal'));
const confirmRestartBtn = document.getElementById('confirmRestartBtn');

// Update the restartTest function to hide the share button
const restartTest = function() {
    // Reset progress container visibility
    const progressContainer = document.querySelector('.progress-container');

    if (progressContainer) {
        progressContainer.style.display = ''; // Remove inline display: none

        // Brief timeout to allow display to take effect before adding visible class
        setTimeout(() => {
            progressContainer.classList.add('visible');
        }, 10);
    }

    // Reset test container padding
    const testContainer = document.querySelector('.test-actual-container');
    if (testContainer) {
        testContainer.style.paddingTop = '120px'; // Reset to original padding
    }

    // Enable all radio inputs and uncheck them
    document.querySelectorAll('input[type="radio"]').forEach(radio => {
        radio.disabled = false;
        radio.checked = false;
    });

    // Remove completion classes from questions
    document.querySelectorAll('.question').forEach(question => {
        question.classList.remove('completed');
        question.classList.remove('current');
    });

    // Hide results and action buttons
    resultDiv.style.display = 'none';
    exportBtn.style.display = 'none';
    restartBtn.style.display = 'none';
    shareBtn.style.display = 'none';

    // Show submit button
    submitBtn.style.display = 'block';

    // Remove any highlighting
    document.querySelectorAll('.highlight-unanswered').forEach(el => {
        el.classList.remove('highlight-unanswered');
    });

    // Hide the modal
    restartWarningModal.hide();

    // Reset progress if exists
    const progressFill = document.querySelector('.progress-fill');
    const questionsCompleted = document.querySelector('.questions-completed');
    const progressMessage = document.querySelector('.progress-message');
    if (progressFill) progressFill.style.width = '0%';
    if (questionsCompleted) questionsCompleted.innerHTML = `<b>0</b> din <b>${questions.length}</b> Ã®ntrebÄƒri`;
    if (progressMessage) progressMessage.innerHTML = getProgressMessage(0, 0);

    // Find first question
    const firstQuestion = document.querySelector('.question');
    if (firstQuestion) {
        // Add current class to first question
        firstQuestion.classList.add('current');

        // Scroll to first question with offset for progress bar
        const offset = progressContainer ? progressContainer.offsetHeight + 20 : 20;

        setTimeout(() => {
            const targetPosition = firstQuestion.getBoundingClientRect().top +
                                 window.pageYOffset -
                                 offset;

            window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
            });

            initProgressTracker();
        }, 100); // Small delay to ensure DOM updates are complete
    }
};

// Update event listeners for the restart button and confirm button
restartBtn.addEventListener('click', (e) => {
    e.preventDefault();
    restartWarningModal.show();
});

confirmRestartBtn.addEventListener('click', restartTest);

// Re-attach change event listeners for radio buttons
function reInitializeRadioListeners() {
    document.querySelectorAll('input[type="radio"]').forEach(radio => {
        radio.addEventListener('change', (e) => {
            const currentQuestion = e.target.closest('.question');
            currentQuestion.classList.add('completed');

            // Find next unanswered question
            const nextUnanswered = Array.from(document.querySelectorAll('.question:not(.completed)'))
                .find(q => !q.querySelector('input[type="radio"]:checked'));

            if (nextUnanswered) {
                // Remove current class from all questions
                document.querySelectorAll('.question').forEach(q => {
                    q.classList.remove('current');
                });

                // Add current class to next question
                nextUnanswered.classList.add('current');

                // Calculate scroll position
                const progressContainer = document.querySelector('.progress-container');
                const offset = progressContainer ? progressContainer.offsetHeight + 20 : 20;

                const targetPosition = nextUnanswered.getBoundingClientRect().top +
                                     window.pageYOffset -
                                     offset;

                // Smooth scroll to next question
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }

            // Update progress if it exists
            if (typeof updateProgress === 'function') {
                updateProgress();
            }
        });
    });
}

// Call this when initializing the form and after restart
reInitializeRadioListeners();

// Restart button functionality
restartBtn.addEventListener('click', (e) => {
    e.preventDefault();

    restartWarningModal.show();
});

// Click handler for the confirm button in the modal
confirmRestartBtn.addEventListener('click', restartTest);

// Function to generate a random identifier
function generateUniqueId() {
    return 'raads_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
}

// Update the shareToFacebook function
async function shareToFacebook() {
    try {
        // Show loading state
        shareBtn.disabled = true;
        shareBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>Se pregÄƒteÈ™te imaginea...';

        // Calculate scores using the proper RAADS-R scoring system
        const results = calculateSubscores(questions);

        // Format scores
        const formattedResults = {
            subscores: {
                language: Math.round(results.subscores.language) || 0,
                socialRelatedness: Math.round(results.subscores.socialRelatedness) || 0,
                sensoryMotor: Math.round(results.subscores.sensoryMotor) || 0,
                circumscribedInterests: Math.round(results.subscores.circumscribedInterests) || 0
            },
            totalScore: Math.round(results.totalScore) || 0
        };

        // Get interpretation based on total score
        const interpretation = getInterpretation(formattedResults.totalScore);

        // Get color for total score
        const totalScoreColor = formattedResults.totalScore < 65 ? '#4CAF50' :
                               formattedResults.totalScore < 90 ? '#FFC107' : '#F44336';

        // Create a visible container for html2canvas
        const container = document.createElement('div');
        container.style.cssText = `
            width: 1200px;
            height: 630px;
            position: fixed;
            top: 0;
            left: 0;
            z-index: -9999;
            background: white;
        `;
        document.body.appendChild(container);

        // Define score categories
        const scoreCategories = [
            {
                name: 'Limbaj',
                score: formattedResults.subscores.language,
                max: MAX_SCORES.language,
                threshold: RAADS_R_THRESHOLDS.language
            },
            {
                name: 'RelaÈ›ionare socialÄƒ',
                score: formattedResults.subscores.socialRelatedness,
                max: MAX_SCORES.socialRelatedness,
                threshold: RAADS_R_THRESHOLDS.socialRelatedness
            },
            {
                name: 'Senzorial-motor',
                score: formattedResults.subscores.sensoryMotor,
                max: MAX_SCORES.sensoryMotor,
                threshold: RAADS_R_THRESHOLDS.sensoryMotor
            },
            {
                name: 'Interese circumscrise',
                score: formattedResults.subscores.circumscribedInterests,
                max: MAX_SCORES.circumscribedInterests,
                threshold: RAADS_R_THRESHOLDS.circumscribedInterests
            }
        ];

        // Create HTML content
        container.innerHTML = `
            <div style="width: 1200px; height: 630px; padding: 40px; box-sizing: border-box; font-family: Arial, sans-serif; background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);">
                <!-- Header -->
                <div style="text-align: center; margin-bottom: 20px;">
                    <h1 style="font-size: 42px; margin: 0; color: #333; letter-spacing: -0.5px;">
                        Rezultate Test RAADS-R
                    </h1>
                </div>

                <!-- Total Score -->
                <div style="text-align: center; margin-bottom: 30px;">
                    <div style="font-size: 120px; font-weight: bold; color: ${totalScoreColor}; line-height: 1.2; margin: 20px 0;">
                        ${formattedResults.totalScore}
                    </div>
                    <div style="font-size: 28px; color: #666; margin-bottom: 20px;">
                        Scor Total
                    </div>
                    <div style="font-size: 32px; color: #333; max-width: 90%; margin: 0 auto 30px; line-height: 1.4;">
                        ${interpretation}
                    </div>
                </div>

                <!-- Score Categories -->
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 30px; padding: 0 40px;">
                    ${scoreCategories.map(category => {
                        const percentage = Math.min(Math.max((category.score / category.max) * 100, 0), 100);
                        const color = category.score < category.threshold ? '#4CAF50' :
                                    category.score < category.threshold * 1.5 ? '#FFC107' : '#F44336';

                        return `
                            <div style="text-align: center;">
                                <div style="font-size: 24px; color: #333; margin-bottom: 15px; font-weight: 500;">
                                    ${category.name}
                                </div>
                                <div style="position: relative; width: 100px; height: 100px; margin: 0 auto;">
                                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 20px; font-weight: bold;">
                                        ${category.score}/${category.max}
                                    </div>
                                    <svg width="100" height="100" viewBox="0 0 100 100">
                                        <circle cx="50" cy="50" r="45" fill="none" stroke="#e9ecef" stroke-width="6"/>
                                        <circle cx="50" cy="50" r="45" fill="none" stroke="${color}" stroke-width="6"
                                            stroke-dasharray="${percentage * 2.827}, 282.7"
                                            transform="rotate(-90 50 50)"/>
                                    </svg>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>

                <!-- CTA -->
                <div style="text-align: center; margin-top: 40px; font-size: 42px; font-weight: bold; color: ${totalScoreColor}; text-transform: uppercase; letter-spacing: 2px; background: linear-gradient(45deg, ${totalScoreColor}22, ${totalScoreColor}11); padding: 20px; border-radius: 12px;">
                    FÄƒ È™i tu un test!
                </div>
            </div>
        `;

        // Wait a brief moment for rendering
        await new Promise(resolve => setTimeout(resolve, 100));

        // Generate image
        const canvas = await html2canvas(container, {
            width: 1200,
            height: 630,
            scale: 1,
            useCORS: true,
            allowTaint: true,
            backgroundColor: '#ffffff'
        });

        // Remove the container
        document.body.removeChild(container);

        // Convert canvas to blob
        const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/jpeg', 0.95));

        // Create FormData
        const formData = new FormData();
        const uniqueId = generateUniqueId();
        formData.append('image', blob, uniqueId + '.jpg');
        formData.append('id', uniqueId);
        formData.append('score', formattedResults.totalScore.toString());
        formData.append('subscores', JSON.stringify(formattedResults.subscores));
        formData.append('interpretation', interpretation);

        // Upload and share
        const response = await fetch('/save-result-image.php', {
            method: 'POST',
            body: formData
        });

        if (!response.ok) {
            throw new Error('Upload failed');
        }

        const data = await response.json();

        // Open Facebook share dialog
        const fbShareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(data.shareUrl)}`;
        window.open(
            fbShareUrl,
            'facebook-share-dialog',
            'width=626,height=436,top=' + (window.innerHeight - 436) / 2 + ',left=' + (window.innerWidth - 626) / 2
        );

    } catch (error) {
        console.error('Error sharing:', error);
        alert('A apÄƒrut o eroare la distribuirea rezultatelor. VÄƒ rugÄƒm sÄƒ Ã®ncercaÈ›i din nou.');
    } finally {
        shareBtn.disabled = false;
        shareBtn.innerHTML = '<i class="fab fa-facebook me-2"></i>Distribuie pe Facebook';
    }
}

// Update the createSharingImage function
function createSharingImage(subscores, totalScore, interpretation, totalScoreColor) {
    console.log('Creating sharing image with:', {
        subscores,
        totalScore,
        interpretation,
        totalScoreColor
    });

    // Define score categories with their maximums
    const scoreCategories = [
        {
            name: 'Limbaj',
            score: Math.round(subscores.language),
            max: MAX_SCORES.language,
            threshold: RAADS_R_THRESHOLDS.language
        },
        {
            name: 'RelaÈ›ionare socialÄƒ',
            score: Math.round(subscores.socialRelatedness),
            max: MAX_SCORES.socialRelatedness,
            threshold: RAADS_R_THRESHOLDS.socialRelatedness
        },
        {
            name: 'Senzorial-motor',
            score: Math.round(subscores.sensoryMotor),
            max: MAX_SCORES.sensoryMotor,
            threshold: RAADS_R_THRESHOLDS.sensoryMotor
        },
        {
            name: 'Interese circumscrise',
            score: Math.round(subscores.circumscribedInterests),
            max: MAX_SCORES.circumscribedInterests,
            threshold: RAADS_R_THRESHOLDS.circumscribedInterests
        }
    ];

    const container = document.createElement('div');
    container.style.cssText = `
        width: 1200px;
        height: 630px;
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        position: absolute;
        left: -9999px;
        top: -9999px;
        font-family: Arial, sans-serif;
        box-sizing: border-box;
        overflow: hidden;
    `;

    // Helper function to create arc progress indicator
    function createArcProgress(category) {
        const score = category.score;
        const max = category.max;
        const threshold = category.threshold;

        const percentage = Math.min(Math.max((score / max) * 100, 0), 100);
        const color = score < threshold ? '#4CAF50' :
                     score < threshold * 1.5 ? '#FFC107' : '#F44336';

        return `
            <div style="position: relative; width: 100px; height: 100px; margin: 0 auto;">
                <svg width="100" height="100" viewBox="0 0 100 100">
                    <!-- Background arc -->
                    <path d="M50 10 A40 40 0 0 1 90 50" fill="none"
                        stroke="#e9ecef" stroke-width="6" stroke-linecap="round"/>
                    <!-- Progress arc -->
                    <path d="M50 10 A40 40 0 ${percentage > 50 ? '1' : '0'} 1 ${
                        50 + 40 * Math.cos((percentage * 3.6 - 90) * Math.PI / 180)} ${
                        50 + 40 * Math.sin((percentage * 3.6 - 90) * Math.PI / 180)
                    }" fill="none"
                        stroke="${color}" stroke-width="6" stroke-linecap="round"/>
                    <!-- Score text -->
                    <text x="50" y="55" text-anchor="middle"
                        font-size="20" font-weight="bold" fill="#333">
                        ${score}/${max}
                    </text>
                </svg>
            </div>
        `;
    }

    container.innerHTML = `
        <div style="height: 100%; width: 100%; padding: 40px; box-sizing: border-box;">
            <div style="text-align: center; margin-bottom: 20px;">
                <h1 style="
                    font-size: 42px;
                    margin: 0;
                    color: #333;
                    letter-spacing: -0.5px;
                ">Rezultate Test RAADS-R</h1>
            </div>

            <!-- Total Score Section -->
            <div style="text-align: center; margin-bottom: 30px;">
                <div style="
                    font-size: 120px;
                    font-weight: bold;
                    color: ${totalScoreColor};
                    line-height: 1.2;
                    margin: 20px 0;
                ">${Math.round(totalScore)}</div>
                <div style="
                    font-size: 28px;
                    color: #666;
                    margin-bottom: 20px;
                ">Scor Total</div>
                <div style="
                    font-size: 32px;
                    color: #333;
                    max-width: 90%;
                    margin: 0 auto 30px;
                    line-height: 1.4;
                    word-spacing: 4px;
                    letter-spacing: 0.2px;
                    white-space: normal;
                    text-align: center;
                ">${interpretation}</div>
            </div>

            <!-- Subscores Grid -->
            <div style="
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 30px;
                padding: 0 40px;
            ">
                ${scoreCategories.map(category => `
                    <div style="text-align: center;">
                        <div style="font-size: 24px; color: #333; margin-bottom: 15px; font-weight: 500;">
                            ${category.name}
                        </div>
                        ${createArcProgress(category)}
                    </div>
                `).join('')}
            </div>

            <!-- Call to Action -->
            <div style="
                text-align: center;
                margin-top: 10px;
                font-size: 42px;
                font-weight: bold;
                color: ${totalScoreColor};
                text-transform: uppercase;
                letter-spacing: 2px;
                background: linear-gradient(45deg, ${totalScoreColor}22, ${totalScoreColor}11);
                padding: 20px;
                border-radius: 12px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            ">
                FÄƒ È™i tu un test!
            </div>
        </div>
    `;

    return container;
}

// Click handler for share button
shareBtn.addEventListener('click', shareToFacebook);


// ACCESSIBILITY FEATURES

// Add keyboard navigation
document.addEventListener('keydown', (e) => {
    const activeElement = document.activeElement;
    if (activeElement.type === 'radio') {
        const currentQuestion = activeElement.closest('.question');
        const radios = Array.from(currentQuestion.querySelectorAll('input[type="radio"]'));
        const currentIndex = radios.indexOf(activeElement);

        switch(e.key) {
            case 'ArrowDown':
            case 'ArrowRight':
                e.preventDefault();
                const nextIndex = (currentIndex + 1) % radios.length;
                radios[nextIndex].focus();
                break;
            case 'ArrowUp':
            case 'ArrowLeft':
                e.preventDefault();
                const prevIndex = (currentIndex - 1 + radios.length) % radios.length;
                radios[prevIndex].focus();
                break;
            case 'Home':
                e.preventDefault();
                radios[0].focus();
                break;
            case 'End':
                e.preventDefault();
                radios[radios.length - 1].focus();
                break;
        }
    }
});

// Add help button functionality
document.addEventListener('click', (e) => {
    if (e.target.closest('.help-button')) {
        const button = e.target.closest('.help-button');
        const helpContent = button.nextElementSibling;
        const isExpanded = button.getAttribute('aria-expanded') === 'true';

        // Toggle the help content
        button.setAttribute('aria-expanded', !isExpanded);
        helpContent.hidden = isExpanded;

        // Add animation class
        if (!isExpanded) {
            helpContent.classList.add('help-content-show');
        } else {
            helpContent.classList.remove('help-content-show');
        }

        // Announce to screen readers
        const announcement = document.createElement('div');
        announcement.setAttribute('role', 'status');
        announcement.setAttribute('aria-live', 'polite');
        announcement.classList.add('sr-only');
        announcement.innerHTML = `Ajutor pentru Ã®ntrebare ${isExpanded ? 'Ã®nchis' : 'deschis'}`;
        document.body.appendChild(announcement);
        setTimeout(() => announcement.remove(), 1000);
    }
});

// Function to highlight the QuickNav item of the section currently in view
function highlightInViewSection() {
    const navItems = document.querySelectorAll('.quick-nav-item');
    const sections = [
        { id: 'section-faq', navItem: document.querySelector('a[href="#section-faq"]') },
        { id: 'section-instructions', navItem: document.querySelector('a[href="#section-instructions"]') },
        { id: 'section-quiz', navItem: document.querySelector('a[href="#section-quiz"]') },
        { id: 'section-results', navItem: document.querySelector('a[href="#section-results"]') },
        { id: 'section-support', navItem: document.querySelector('a[href="#section-support"]') }
    ];

    // Detects the section currently in view and updates the active QuickNav item
    window.addEventListener('scroll', () => {
        let currentSection = '';

        sections.forEach(section => {
            const sectionElement = document.getElementById(section.id);
            const sectionTop = sectionElement.offsetTop;
            const sectionBottom = sectionTop + sectionElement.offsetHeight;

            // Check if the section is in the middle of the viewport
            if (window.scrollY + window.innerHeight / 2 >= sectionTop && window.scrollY + window.innerHeight / 2 < sectionBottom) {
                currentSection = section.id;
            }
        });

        // Remove active class from all QuickNav items and set it on the one in view
        navItems.forEach(navItem => navItem.classList.remove('active'));
        if (currentSection) {
            const activeNavItem = document.querySelector(`a[href="#${currentSection}"]`);

            if (activeNavItem) {
                activeNavItem.classList.add('active');
            }
        }
    });
}

// Initialize the highlight functionality when the document is loaded
document.addEventListener('DOMContentLoaded', highlightInViewSection);
</script>
</body>
</html>
